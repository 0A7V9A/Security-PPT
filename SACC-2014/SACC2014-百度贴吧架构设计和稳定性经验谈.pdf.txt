
  luhongbo@baidu.com


 
 08  11NMQ  133  

nkarthas



luhongbo@baidu.com


      

OUTLINE
       QA


 
   
 
  IM......



 //T 

 IM 40+




 1.0   2.0 lamp  3.0 

1.0---c
r
ui

c1

c1

c2

c2

MQ ui
w

08

2.0---

w
php-ui MQ

c1
mysql

c1
mysql

c2
mysql

c2
mysql

10

2.0---

NMQ

r/w
ui
data-logic

cache

mysql/ddbs

redis

2.0---

client server

wap/pad



open api

ui-1

ui-2

ui-3

...

PC



12

client server

wap/pad



open api

ui-1

ui-2

ui-3

...

PC



100+
X2000
200+



3.0

  



PC

Wap









PC ui
Sub-ui
PC

Client Server
Wap/Pad


Open Api







Anti





NMQ









...









IM



...



DDBS

Redis

Cache




/

 



















wiget

wiget

template

wiget

...

template

UI

Core-ui-1

Core-ui-2

UI

sub-ui f1 f2 f3
/team

sub-ui f1 f2 f3
/team



forum user post ...


sign game mall ...


IDC


DNS



 
 IDC

  

mysq redis cache l


NMQ

  







mysq redis cache l

IDC---redis

r/w proxy

r/w proxy

r/w proxy

redis

redis

redis

redis

redis

redis

IDC---cache

r/w

r/w

proxy

proxy

r/w proxy

add/get/del

del

cache

gutter

del

cache

gutter

del

cache

gutter

NMQ

IDC---NMQ

proxy

ts

ts pusher

ts pusher

proxy
ts pusher



 

   lamp
 
 


www ooo rrr kkk eee r r r

 

 

 

service A service B

w o r k e r
service C



 

IDC 


IDC 







IDC

 



& 



 

HHVM RAL

sync

NGINX



wwww

oooo

r

r

r

r

kkkk

eeee

r

r

r

r

HHVM

regist
BNS agent

BNS server







router +http header


RPC LIB RAL

service

service

service

service

service


 BFE

2,IDC

 BFE

IDC1 

IDC2 

1,

3,



4,

