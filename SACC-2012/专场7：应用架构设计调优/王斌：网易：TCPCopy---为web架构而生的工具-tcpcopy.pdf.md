TCPCopy---web
(http://weibo.com/tcpcopy)

Web



       



1

TCPCopy
 TCP 

2


   web  Replay  LoadRunner    


 
­  ­ 
 
­  ­  ­ 

web
 
­  ­ 
 
­  ­  ­ 

Replay
 
­  ­ 
 
­ replayserver ­ 

LoadRunner
 
­ 
 
­  ­  ­  ­ 

 
­ 
 
­  ­ 



 
­ 
 
­  ­  ­ 



3


apache 

TCPCopy

Online machine


nginx 

test machine

apache

tcpcopy

TCP IP Data Link

tcpcopy client

nginx

interception

TCP IP Data Link

tcpcopy server

online

TCPCopy
 
­  ­  ­  ­ 
 
­  ­ 

4


   Apache 2.4 vs nginx

1
 
­ 
 
­ 

web 


Http 


memcached 

adclient (nginx)
adserver  userserver

2
 
­ Apache  nginx
 
­ Apache

Apachenginx

 packets

 

Apache a

Nginx b

  tcpcopy
  tcpcopy

  intercept

 

   

Q&A
TCPCopy https://github.com/wangbin579/tcpcopy

