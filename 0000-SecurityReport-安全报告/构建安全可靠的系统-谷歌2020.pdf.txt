


·Heather Adkins ·Betsy Beyer ·Paul Blankinship ·Piotr Lewandowski ·Ana Oprea ·Adam Stubblefield cnbird  cnbird  2020  6 
1 / 477

Royal Hansen 
......
Michael Wildpaner 
......

......
2 / 477


        cnbird ThreatSource Google   cnbird  17-18  19  cnbird  @ThreatSource  Google 
 2021-03-01
3 / 477


Royal Hansen  ....................................................................................................................................... 2 Michael Wildpaner  ............................................................................................................................. 2  ....................................................................................................................................................................... 2  .............................................................................................................................................................. 3  1  .......................................................................................................................................... 8
1. ................................................................................................................. 8  .............................................................................................................................. 8 .............................................................................................10  ..........................................................................................................11  ............................................................................................................... 12  ...................................................................................................................................................18
2.  ..........................................................................................................................................19  ..........................................................................................................................................20  ...................................................................................................................................... 21  ...................................................................................................................................... 34  ........................................................................................................................ 36  ...................................................................................................................................................38
 2  ........................................................................................................................................39 3.  ...................................................................................................................39  ............................................................................................................... 40 Google ...........................................................................................................................42  ...................................................................................................................................................44 4.  ..........................................................................................................................................44  ............................................................................................................................45  ..........................................................................................................................................50  ..........................................................................................................55  ...................................................................................................................57  ...................................................................................................................................................60 5.  .................................................................................................................................60  ...................................................................................................................................... 62  ..........................................................................................................63  ..........................................................................................................................................64  ...................................................................................................................74  ...................................................................................................... 77  ..........................................................................................................................................80  ...................................................................................................................................... 85  ...................................................................................................................................................87 6.  .................................................................................................................................88  ..........................................................................................................89  ........................................................................................................................ 93  ..........................................................................................................................................96  ....................................................................................................................................... 110
4 / 477

 ................................................................................................................................................ 118 7.  ................................................................................................................ 118
 ......................................................................................................................... 119  ....................................................................................................................................... 120  ....................................................................................................... 121  ....................................................................... 125 ............................................................................................................ 136 -............................................................................................ 138  ................................................................................................................................................ 139 8.  ....................................................................................................................................... 139  .............................................................................................................................. 141  ....................................................................................................................................... 141  ....................................................................................................................................... 145  .............................................................................................................................. 154  .............................................................................................................................. 162  ....................................................................................................................................... 169  ....................................................................................................... 175  ................................................................................................................................................ 176 9.  ....................................................................................................................................... 177  ................................................................................................................ 178  ......................................................................................................................... 180  ....................................................................................................................................... 202 ................................................................................................................................... 206  ................................................................................................................................................ 207 10. ........................................................................................................................ 207  ....................................................................................................................................... 208  ....................................................................................................................................... 210  ....................................................................................................................................... 213  .............................................................................................................................. 216  ................................................................................................................................................ 218  3  ..................................................................................................................................... 220 11. CA.................................................................... 220  .............................................................................................. 220  CA .............................................................................. 221  ......................................................................................................................... 222 ................................................................................................... 223  ................................................................................................................................................ 228 12. .......................................................................................................................................... 228 ................................................................................................... 229  .............................................................................................................................. 237 ................................................................................................... 242 ................................................................................................... 246  .............................................................................................. 249  ................................................................................................................................................ 255
5 / 477

13. .......................................................................................................................................... 255  ....................................................................................................................................... 256  ....................................................................................................................................... 261  .............................................................................................................................. 262 Fuzz ..................................................................................................................... 265  .............................................................................................................................. 277  ................................................................................................................................................ 289
14. .......................................................................................................................................... 290 ................................................................................................................................... 291  ....................................................................................................................................... 293  ....................................................................................................................................... 294  .............................................................................................................................. 298  ......................................................................................................................... 300  ....................................................................................................................................... 314  ..................................................................................................................... 317  ................................................................................................................................................ 317
15. .......................................................................................................................................... 318  .............................................................................................................................. 319 ............................................................................................................ 336 ............................................................................................................ 344  ................................................................................................................................................ 345
 4  ....................................................................................................................................... 347 16. .......................................................................................................................................... 347 "" .............................................................................................................................. 348  ..................................................................................................................... 349  .............................................................................................................................. 350  ..................................................................................................................... 351  ....................................................................................................... 358  ................................................................................................................ 361 Google ................................................................................................................................. 367  ................................................................................................................................................ 369 17. .......................................................................................................................................... 369  .............................................................................................................................. 371  ....................................................................................................................................... 374  ....................................................................................................................................... 385  ................................................................................................................................................ 392  .............................................................................................................................. 397  ................................................................................................................................................ 401 18. ...................................................................................................................................... 402  .............................................................................................................................. 403 ................................................................................................................................... 405  ....................................................................................................................................... 406  ....................................................................................................................................... 413  ..................................................................................................................... 413
6 / 477

 ................................................................................................................ 415  ....................................................................................................................................... 416  ....................................................................................................................................... 416  ......................................................................................................................... 417 ..................................................................................................................................................... 419  ................................................................................................................................................ 420  ................................................................................................................................................ 421  ................................................................................................................................................ 426  5  ....................................................................................................................................... 427 19.Chrome ................................................................................................... 427  ......................................................................................................................... 427  ..................................................................................................................... 431 ............................................................................................................ 432  ....................................................................................................................................... 433  .............................................................................................................................. 433  ..................................................................................................................... 434  ................................................................................................................................................ 435 20.............................................................................................................................. 435  ....................................................................................................... 436  ................................................................................................................ 441  ................................................................................................................................................ 449 21. ............................................................................................................... 449 .......................................................................................... 451 ............................................................................................................ 461  ......................................................................................................................... 468  ................................................................................................................................................ 473  .................................................................................................................................................................. 474  A ........................................................................................................................ 476
7 / 477

 1  

  
 
  
1. 



·Adam Stubblefield ·Massimiliano Poletto
·Piotr Lewandowski ·David Huska ·

2012  9  27 Google   Google   Google   WiFi   9  WiFi   
8 / 477

    HSM
 Google      " "
  
  
      

  
9 / 477



      /  

      

     -
10 / 477


     
  CIA  CIA  

   

2015 Google  SRE SREs  0  1  SREs    SRE 
11 / 477


  DDoS DoS 2018  Google Home  Chromecast   Google    DDoS  1-1 2019  10   4.5  Google  
 1-1 2019  10  14  4.5  HTTP   Google 

  
12 / 477

  

 -       Verizon  2017   Yahoo! 3.5   Delta Airlines   700   60

   1    
1  SRE  3  13 / 477


   MTTR 6  

    7  
  2006  OpenSSL  Debian GNU / Linux   Valgrind   OpenSSL  ID  ID  Debian  1  32,768 
Google  2018  10  YouTube    YouTube  YouTube  
14 / 477




       8  10   DoS 

  " " 

Google  

   









 Unix  sudo 



15 / 477

 Google    5  

   12       13   14  canaries  slow rollout   

    15  -  YouTube 
16 / 477

 PII 

 2014    Code Spaces  
    24/7   ""  
  16  17 Google   Google Incident ManagementIMAG  IMAG ICS 
  Google DiRT 
17 / 477

 Google  IMAG 

          
      9  18  

-    21   20   

18 / 477

-  
2. 
·Heather Adkins ·David Huska ·Jen Barnason
1986  8 ·Lawrence Livermore Laboratory ·Clifford Stoll  10 2 Stoll TTPs   Stoll " Wily "
2012  3 Google    
  ""   
2 Stoll  ACM ""   
19 / 477

 Wily Hacker  Curious Cat  
       
 21     

   
 
 
 
 

20 / 477

 
       2018  6  HyPark Jin Hyok  2017  WannaCry Ransomware 2014  Sony Pictures  Sony    
    SWIFT  

     

21 / 477

 50  "" ""    

 ""      

   20          20 
22 / 477


     

 SIGINTHUMINT  2011   RSA  RSA   · Lockheed  

  3  
3  1991  
23 / 477

 ""

  NSO Group   NSO Group   4 
5
   
  2010  1 ""   Gmail  
  20 
4 NSO  Munk  The CitizenLab  https://oreil.ly/IqDN_ 5 APT
24 / 477


 2018   Strava  
      

 6 
 2015  · CDN www.army.mil    
 2012  11   Anonymous7 
6  1996  Hacktivismo  ""cDc 7  
25 / 477

   
   

    ""   DoS 

     
   2014  2015  
26 / 477

   
Stalkerware   20    Stalkerware  
   2012    Cellcom   Lonestar  Lonestar  

   CAPTCHA CAPTCHA     CAPTCHA  CAPTCHA 
27 / 477

 CAPTCHA 8

2015 DARPA""   bug" "     

  5   14  8   DoS 

      
8  CAPTCHA  CAPTCHA  reCAPTCHA  Chow YangWeiWilly Susilo  Pairat Thorncharoensri  2019 " CAPTCHA "   Willy Susilo 69-92 
28 / 477

 2-1 

 2-1 

    

       

   


     
    5  


 
29 / 477

   2019  4     GE  
  2008    
 2019  1   23   
    SRE   

    
30 / 477

    13  14 
API  API    API   

 9   "" ""

     
9  MatthewsTara .2017 ." " 2017  CHI  2189­2201https://ai.google/research/pubs/pub46080
31 / 477



   2-2 

 2-2. 

/



























































/





l  
l  SSL  SRE  
l   1000%
l SRE   SRE 


 2009  1  31  40 

32 / 477

Google -" "  " /"    " /" 

""    
 5     3    5    5 
33 / 477

   15 
   9 

       TTP

  
l   
l IOC  IP  SHA256 IOC 10 
10 STIX IOC  TAXII
34 / 477


l  IOC   IDA Pro  Ghidra 
   11

TM

 12   2-3  

 2-3.

      





 

 



  VPN 

 

  

  VPN 

11  Verizon Databreach  CrowdStrike  12 ·  
35 / 477

  
 
 

 VPN  
     

     
  



 TTP  MITRE  ATTCK   ""ATTCK  .bash_history  ATTCK  


  
 2012
36 / 477

 9 Adobe          -     NSA  13   2016  3   Petya Petya   Petya  NotPetya    NotPetya   - 
13 Greenwald, Glenn. 2014. No Place to Hide: Edward Snowden, the NSA, and the U.S. Surveillance State. New York: Metropolitan Books, 149
37 / 477

  TTP    

      -       
38 / 477

 2  
 
  3   Google   
 4  
 5   6   
  7  
3. 
· ·Ana Oprea
· ·Susanne Landers
·Roxana Loza · ·
39 / 477

   
 

    Google  
  Google  SSH   
l  l  l  Zero Touch Prod  Google   14  13% Zero Touch Prod 
14   67 " "
40 / 477

 3-1   Google ACL RPC RPC   
 
l MPA15 
l  l 
 l 
 l 







 

 

  

 3-1. 

15 MPA   81 "MPA" 41 / 477


l  l  
 SLA  l     l    l     21    API    Google  
Google 
Google CLI -   CLI  Google   RPC  fork  exec   MPA
42 / 477

 Zero Touch Prod   
 RPC   3-1  groupadmin  groupadmin-leads   borg CLI  Borg 
Example 3-1. Google Tool Proxy Borg policy
config = { proxy_role = 'admin-proxy' tools = { borg = { mpm = 'client@live' binary_in_mpm = 'borg' any_command = true allow = ['group:admin'] require_mpa_approval_from = ['group:admin-leads'] unit_tests = [{ expected = 'ALLOW' command = 'file.borgcfg up' }] } }
}  3-1  Borg 
$ tool-proxy-cli --proxy_address admin-proxy borg kill ...
 RPC  3-2 
43 / 477


1.  RPC  
2.  groupadmin  3.  MPA groupadmin-leads
 4. stdout 
stderr  RPC 



Workstation

$ tool-proxy-cli --proxy_address admin-proxy borg kill ...

 

borg kill......

Borg

 3-2. 

 tool-proxy-cli --proxy_address  admin-proxy  



    4  

4. 

·Christoph Kern
44 / 477

·Brian Gustafson ·Paul Blankinship ·FelixGröbert
                 

 
45 / 477


16 user story17   
  
  
 Web UI /
l  l  l  ToS

  
l  
l  95% 99%SLO
16  MITRE  ISO / IEC / IEEE 29148-2018E 17    user story
46 / 477

   
   /


  



 



 Web 

l  l UI  l  RPC  HTTP 
 



 UI ""





47 / 477

 --enable_high_reliability_mode   "" 

 
l  l 
/ l  RPC
 l PRR
 l 

"" 
l  l / l 
 l 

  7 
48 / 477


Google 
Google     
Google 
 Google  
              
49 / 477

 DNS       /   SLA           

  

50 / 477

  NoSQL  ""   6 
  -    SRE  SRE 
    

18  Web  


18 ---- 
51 / 477

19   PCI DSS
PII /    1  
 - 

  5   20 API  
 
l  
l  
l 
19 ··2010 NIST  800-122" PII"https:// oreil.ly/T9G4D. 20 
52 / 477

 l 
  
- 
  API API /
   " "  SLA 
 8   - API  bug  
  ""
   
53 / 477

    
 
 

   
  21 7   6  REST + JSONXMLSOAP  gRPC  API Web   JavaScript     Web 22 
21  API  22  Michal  Zalewski. 2011. Web Web   No Starch Press.
54 / 477

 Web  iframe    HTTP     

   
 Google Web 
 Web  Google      /    CI  Google  
55 / 477

 SRE     SLA  
 Web  Web 23 API  24""   6  12 

    SRE  
     SLA  SRE  16  SRE    25
23  OWASP Top 10  CWE / SANS TOP 25  bug 24 · 2014 "" ACM  57938­47 doi 10.1145 / 2643134 25  Google HEAD   PotvinRachel  Josh Levenberg 2016 " Google 
56 / 477


    
l  6    
l  9   
l  7   

 "" ""    
" ACM  59778-87 https://oreil.ly/jXTZM 57 / 477

26     21 
27 IPTCPDNS  BGP  28 29 ARPANET
  - 2 
IPUDP  TCP   HTTP  DNS HTTPS   HTTP IP IPsec   IPsec   IP  VPN
  50  25  30 -
26  John Ousterhout  2018. Yaknyam  · 27  RFC 2235  LeinerBarry M.2009 ."" ACM SIGCOMM  39 522­31 doi10.1145 / 1629607.1629613 28  1964 "" IEEE  1211­9 doi 10.1109 / TCOM.1964.1088883 29 RobertsLawrence G. Barry D. Wessler 1970 ."" 1970 543­549 doi10.1145 / 1476936.1477020
58 / 477

 HTTPS30
    
  Web  tarball   
/CI / CD  7  - 
l  
l  CI/CD  l  l ""  ""    
30 ······ 2017 ." HTTPS " 26  USENIX 1323-1338 https://oreil.ly/G1A9q
59 / 477

  
   6  12    

  
 " "    
5. 
·Oliver Barrett · · ·
60 / 477

·   bug   
        
     
 
   SRE 
61 / 477


 Google 

     " " root 

   Internet  - Google  BeyondCorp 

Google  SRE   "    "          3           Zero Touch Production, ZTPZTN  Google     API 
62 / 477



   

  /   API   API 

 ""  API   API 



l  l  l / l   5-1  

 5-1. 





 

63 / 477

 a







 





/  

 



 

a  

 SSH 





  ACL   
  





 API

 ""
-McIlroy, Pinson, and Tague197831
Unix   20  70 
31 McIlroyPinson  B.A. Tague1978 ." UNIX "   5761899  1904  doi10.1002 / j.1538-7305.1978.tb02135.x
64 / 477

 40  " API "   API  
API  API  API  POSIX API32 Windows API33 memcached34 NATS35 World Clock APITinyURL36 Google Fonts API37 API  API  38 API   ID  CRUD  API
 API  API API   API   API  
 API  API  API   API 
l / API API
32 POSIX  Unix  IEEE    Wikipedia 33 Windows API  DirectXCOM  34 Memcached  35 NATS  API  gRPC  RPC  36 TinyURL.com API  GET URL URL   API  37 Fonts API  38 GammaErich  1994  Addison-Wesley  2006 " API "   21  ACM SIGPLAN 506­507 doi 10.1145 / 1176617.1176622
65 / 477

l  API 
API POSIX API  API  API   API 
 OpenSSH  POSIX API   Unix39 POSIX API   

 bash  script1  
 vim   bash /bin/evilcmd  script1 typescript  vim  ncurses   
 POSIX API 40  API  API   
39  Unix  Unix  Windows   Windows API  RDP  OpenSSH  40  sudo 7  SELinux 
66 / 477

 POSIX API  OpenSSH API  POSIX API OpenSSH AAA  git-shell
Breakglass
""  " Breakglass """

  
l  l   

 API" API" " 123DEAD ... BEEF456 ""executed <x> command"    
67 / 477

 API 
l  API  
l   API    bash    ncurses   SSH 
 API /   
 API      

 
   /
68 / 477


 Google 
l  l  ""SRE    API   API 
Google      API    API  21 
 Google   
  tripwire   
Google  
69 / 477

    

 
l  l 

 SRE  
l  API  
l   /
l //  ACL   
70 / 477



/  / 
    
 memes  memes / 
    



   ACL 

- 

l  l  l 

71 / 477

  
    
""   

 ""  
 
l  l 
 l 
     
72 / 477

-  403 Access Denied        
    

  

l   SLA  SRE 
l    ......
l  l 

73 / 477

 SRE   8  9 


 Web   API  

1. 2. 3. canary   Web 41    API  Web    5-2  API  

 5-2. Web  API

 OpenSSH   API  OpenSSH  HTTP

POSIX API

ForceCommand



API surface Preexistinga

 

 

 

 















 













 







 5-2  Web  API 



41 canary   SRE  27 
74 / 477

 OpenSSH  POSIX API
 OpenSSH  Web  Web   Web   API  API 
l  Web  
l  Web  
l  Web 
 API
 Web   API  Debian .deb apt get   cron   cron   canary  //  IP  web      9 
75 / 477

 OpenSSH ForceCommand
 1. STDIN  2. 3. Web 
 ForceCommand  authorized_keys   OpenSSH 42 API  OpenSSH   43  key/ForceCommand   OpenSSH API gitshell  RPC   gRPC  Thrift
 HTTP Sidecar
 sidecar  ForceCommand   AAA  SSLSPIFFE  gRPC  
42 ForceCommand   sshd_config  43    
76 / 477

 HTTP 
 Web  API   Google  

 5-2   Web   API     Web  McIlroyPinson  Tague    API   44    Web  

[]
44  
77 / 477

[]

 API API    API  



 URL  / serviceusername = admin
 WPA2-PSK HTTP cookie
 TLS 1.3OAuth
 API  """"  

 



URLgRPC 



URL argvgRPC 



IP 









 Google 



78 / 477


  ACL   ""  ACL  MFAMPA  MPA ""     AWS  GCP IAM  API   Google GCP 45 " X  Y"  

  
l  MFA  MPA  l 
 l  MPA 
45  79 / 477

   2   

    API       9   14 SRE  8  SRE  14  15     API   SRE 

/ /""  
80 / 477

MPA
  21 
l  l 
 l 
 l 
 l  
 MPA   MPA     API " API" 

   
   
81 / 477

 
3FA
MPA  "" 
 /    
 l  l  l 
   RPC   RPC  "" 3FA   RPC  
   HTTP 

82 / 477

 Google Android   Google    Web 3FA  RPC   3FA   RPC  3FA  Web URL  MPA  3FA  MPA  3FA   3FA Web  MPA 
3FA  2FA MFA
2FA """"   2FA " FIDO  "  3FA   3FA  3  "3FA " 

""  ID  
83 / 477

        12345    

   " Team foo " 

       
84 / 477

 Unix  Windows  sudo " Administrator " -

     API    
l  l  l  Internet l   

 

  
85 / 477

"/" "/"

        21  

     API   

   
86 / 477



   API4616   

  Google  
l  
l  API 
l  l 
 l 
 l 
 n 

46 ""  78  87 / 477

n  
n     
 
6. 
·Julien Boeuf ·Christoph Kern
·John Reese ·Guy Fischman ·Paul Blankinship ·Aleksandra Culver ·Sergey Simakov ·Peter Valchev ·Douglas Colish SLO    
  
88 / 477

 API 
 
l  l 

  4   
              
89 / 477

" "- 47 

    

l  l 
 l  API
SQL  API  HTML  API  l  l   l   l  RPC RPC   
47   13 
90 / 477

 1   
    

      SQL XSS" "48
 49   20  50 51
48  SANSMITRE  OWASP  49  MurrayToby  Paul van Oorschot 2018 " BP: Formal Proofs, the Fine Print and Side Effects." 2018 IEEE 1-10 doi10.1109 / SecDev.2018.00009 50  KleinGerwin 2014 "" ACM  32 11­7010.1145/2560537 51 ErbsenAndres  2019 "-" 2019 IEEE 73­90 doi10.1109 / SP.2019.00005  ChudnovAndrey  2018 " Amazon s2n "  30 
91 / 477

   Google   13 

    
    
  /526    
 
430­446 doi10.1007 / 978-3-319-96142-2_26 52  Peter J. Denning1968 "" 1968 915­ 922 doi10.1145 / 1476589.1476705
92 / 477

      - 

 

  Google       Gmail   Gmail Gmail  
l  l  API l  IMAP  POP 
93 / 477

l  l  l  web  l  l  l  l  l  l    Gmail   Gmail   
    
  
   John Ousterhout  Yaknyam Press2018


94 / 477

      ""

 4       RPC   RPC             RPC 
95 / 477

53

 / 
 
 

 
  
   API API  RPC  API  
  API   API   API  
53  SRE  11  96 / 477

 
 

54  

 l  JSON  REST API  RESTful HTTP l gRPC l Thrift l W3C Web XML / WSDL / SOAP l CORBA l DCOM
 gRPC  Thrift  RPC   RESTful  HTTP   JSON 
 gRPCThrift  OpenAPI  API surface   API surfaceOpenAPI  API  gRPC  
54  97 / 477

 JSON  API  RPC    API  API  Istio   surface 

 Kubernetes   
l  l  l  l 
 Google  API 

    API   
98 / 477

API          RPC  UUID  

   - PII     

 X.509  OAuth2     
99 / 477

      
 IP    IP  IP   IP       IP 

55 ""

/  24245223                 widget-storefrontend-prod  - ACL    ACL 
55  
100 / 477



  /  TPM  TLS  

   
    CPU
   
 4   OpenID ConnectOIDC   
Google Google  

101 / 477

 

Google  Gmail 
  Kubernetes  Borg 56 

 Google  Google 
  
 5   
 
/ Google   DNS    root 
Google  
56  Borg  VermaAbhishek 2015 " Borg  Google  " EuroSys https://oreil.ly/zgKsd
102 / 477

 
     root  admin 
  Google  OpenID Connect  Google  Google  zoom.us

 
 API  Google ALTS   

l  n  n  n   myservice-frontend-prod 
l ALTS 
103 / 477

l  API  ALTS  Istio      - 

     6-1 
l  l 

 ingress

 frontend

 backend

 6-1.
  
 
104 / 477


   

TCB"   57 TCB  TCB TCB   Internet   TCB 
TCB  "everything else        "             "everything else"  TCB    gRPCTCB  
 TCB  TCB  ""  Unix  A  B  58 TCB    TCB  OS
57 AndersonRoss J.2008   58  A  Linux  
105 / 477

  Web  API   OS  TCB OS  httpd      TCB   TCBTCB   TCB  TCB   TCB   TCB    4  Web   UI     TCB AddressData   6-2 59
59  6-2  106 / 477

 6-2.
 Web    
      OS  TCB  
 SQL   Web  CVE-2010-1870
 TCB 
   RPC  
 6-3 
 Web  60web  rpc 
60   
107 / 477

 RPC    ALTS 
 6-3.      8 

  TCB    RPC  Web    Web   RPC 
108 / 477

Web  Web  TCB  
EUC EUC    cookie  OAuth2 EUC    EUC 
 TCB   Web 61Web    JavaScript  "" 
 Web  Web  https://widgets.example.com  UI UI  XSS 62 ""  Web TCBAddressData  Web 
 Web   6-4  Web  https://widgets.example.com  https//checkout.example.com .63 UI  Web  XSS Web 
61 ZalewskiMichal 2012  Web Web   No Starch Press 62  Zalewski 63  web  https://widgets.example.com/checkout 
109 / 477


 6-4. Web 
TCB 
TCB  TCB    TCB   TCB TCB DoS   8 

   API 
110 / 477


 RPC   SRE  DevOps  
 Google batteries-included  
 RPC  /    5   
 
 
l  l  l  l  l  l 
111 / 477

l  l  l  l  l  l    12  


 Web  URL  URL   URL   URL  https URL   
 URL  ""    
   URL  URL  Java 64 constructors  factory   Url.parseStringfactory 
64  URL 112 / 477

 Url  URL 
 URL    URL  Url   constructors    Url-typed 
  URL  URL   URL  Url.parse constructors  factory   Url  
 TCB " URL "    TCB""      
 XSS  SQL  API  

113 / 477

 API     XSS   HTML  HTML  DOM API  
  SQL  HTML 65
l  safe SQL  safe HTML constructors  API SQL  API  HTML  API   constructors  API  constructors   HTML /  HTML 66
l   API  constructors   SafeSql  String SQL  API   SQL  SafeSql  SQL 
l   API 
65 ·2014 "" ACM  57938­47 doi10.1145 / 2643134 66  SamuelMikePrateek Saxena  Dawn Song 2011 " Web  " 18  ACM 587-600 doi10.1145 / 2046707.2046775
114 / 477

  API   SQL  XSS   67
   12 
 API 
 API  API  API   
 API   21  API   API 
 HTML     XSS 
 HTML   HTML  HTML 
67    API  
115 / 477


 API  Tink 
    "decryption oracle" 68  AES  
 
 Google  Tink Tink  Google    API
Tink  API Tink 
  APIAPI  Galois  - RFC 5288   AES-GCM   Wycheproof Tink 
  API- AEAD
68  RizzoJuliano  Thai Duong 2010 ." Oracle "  USENIX  1-8 https://oreil.ly/y-OYm
116 / 477

 Tink 
 
 Tink /
 Tink 
Tink KMSAWS   Android   " keyhunt"" password hunt" Tink  API  API 
Google  Tink  Google   "" 
Tink       Tink API   Tink  
 Tink   API  Web 
117 / 477

XSS 

 """"      
l  l  l  l 
   SRE  
7. 
· ·
·Deniz Pecel · ·
·Emily Stark
118 / 477

    Google  
  
"" 69 
 
  


l  18  l  l  l  l   
69 Widely attributed to Heraclitus of Ephesus. 119 / 477

  



   4  SRE  8  "" 





  



"""" 

l  l  l  l  l  

  13  



120 / 477

 SRE  16        canarying   ""  

   21 

   OpenSSL  Linux       
121 / 477

 

SRE    SRE  16-1  ""
 
   7071 

 OS    
­  SSH 
70  Dan Lorenc  Maya Kaczorowski " Exploring Container Security"  BurnsBrendan  2016 " Kubernetes " ACM  141 https://oreil.ly/tDKBJ 71  SRE  7 " 4 "
122 / 477


   
 SRE  7 " 4" / SRE   16 
   
  

      ""
  6   
123 / 477

   
     
  
Google 
Google 72 Google GFE Google  GFE  HTTP STCP  TLS   DDoS  Google CloudServices73
GFE  
l  GFE  
l  
72  SRE  2  73 " Google Cloud "
124 / 477

 l  GFE 
  l GFE   IPv6  GFE  SSL  74 SSL  GFE  Google   ALTS  RPC        

 

     -

74 

125 / 477



  

  -  

  

  
   
-  
126 / 477

  Google 
l  l  l  Google 


  
 """" 
 Google  0   Google  
   ""
   
-  
127 / 477

 
  75  API  
    
 17 
Shellshock
2014  9  24 Google  bash   
   Google  Black Swan 76
l  l  l 
75  SRE  27  76  YouTube 
128 / 477

l   bash 

l  Google     
l  Googler  
l   
 Google   Google 
 
l   
l -  
l   - 
l  
129 / 477

 l 
 l  17 
 l 
 1  

 
 "" SRE  
 
   
l  l      ""
130 / 477

  opt-in   
 FIDO 
 Google  OTP OTP    2011  2FA77 U2F  Google  
  
  21 2FA  -"" SRE -2FA   API  2FA   
 FIDO 
77  LangJuan  2016 "" 2016  422-440 https://oreil.ly/S2ZMU
131 / 477

 
 Google  OTP  2013 
l  OTP  - OTP  "" USB  
l  TechStop 78  
l TechStops   OTP TOFU
l  
 
  OTP   2013   Google    Web Google     OTP   OTP 
 2015  OTP  OTP   OTP 
78 Jesus Lugo  Lisa Mauck  TechStops  Google  IT  132 / 477

 OTP   Web  OTP   2015    21  
 2FA  
    IT            OTP   
133 / 477


   
 ""  
     
     80 90 
 HTTPS 
 Google Chrome Let's Encrypt  HTTPS HTTPS  - HTTPS   HTTP/2
134 / 477

 HTTPS    
l  HTTPS  l  HTTPS UI l  HTTPS  Web 
 l  HTTPS 
   Chrome   UI  
 Chrome   HTTPS    HTTPS 
 HTTPS    HTTPS  Web  Service Worker  HTTPS    HTTPS 
 7-1  Chrome  90 HTTPS   Windows  Chrome  70 Android  Chrome  37Web  Web
135 / 477

 Chrome   
 / Web      HTTPS    HTTPS HTTPS 
 7-1.Chrome  HTTPS 

 SRE   
136 / 477

  SRE 
    
    TLS 1.0 
  

" "  

   

 Web 
137 / 477

 

    
-
2011  12 OpenSSL  SSL/TLS   64 KB  2014  4  Google  Neel Mehta  Codenomicon  OpenSSL OpenSSL  Codenomicon  heartbleed.com
  TLS  
 Metasploit    Google  Google    
Heartbleed
 
138 / 477

        canary      SRE  9    


 
   
  surface   

8. 

139 / 477

Vitaliy Shipitsyn, Mitch Adler,

Zoltan Egyed, Paul Blankinship
Jesus Climent, Jessie Yang,
Douglas Colish, Christoph Kern       Google App Engine       ""      9    
140 / 477


    
l  
l     
l  
l  
l  
l  

 
141 / 477


VirgilAeneid  10    
  - 
 3000    

1.-  2.-  3.-  4.-  
Google App Engine 
Google App EngineGoogle
142 / 477

App Engine   8-1  App Engine   Python / Java   Google 
 Application Code
Python/Java Python/Java Runtime
 Base OS  8-1. Google App Engine 
Google App Engine  Google   POSIX    Google  
 API
App Engine 
l  Google     API  App Engine App Engine  API 
l   
l Linux  App Engine 
143 / 477

  API   I / O  API ""  API    

    Python  Native ClientNaCL NaCL    NaCL  Bug  ptrace       App Engine  Python  8-2 
144 / 477

Ptrace NaCL Python Python

 8-2. App Engine  Python 
App Engine   
 Google App Engine  79 



  bug    
 Slashdot  

79 Google 

145 / 477

  
    
l    TLS ECC RSA   ECC 80  RSA  ECC  
l     
l   Google  Gmail " HTML " UI   

80 ·····2016 "RSA  "302-306doi:10.1109/IC3I.2016.7917979
146 / 477

   

  2FA  2FA  2FA    2FA   

  RPC      
 API  CPU   Web     
147 / 477


    -/ SYN cookie  IP  TCP   CAPTCHA 
  lame-duck 81  
 """"  

     
  

81 SRE  20 

148 / 477

  RPC  GUI      UX  UX 

     

  -   -  DoS    
149 / 477

l  l   8-3  8-4  
l  l  l  l  l   8-3   8-3   8-4   8-3 

LOAD
   

 

 



 


 

 8-3.

TIME

150 / 477

LOAD
 

 
 

 







 8-4.

TIME



 SRE  22     
     82  CPU  


 SRE  21 

82  SRE  21 

151 / 477

   
  

  
    
 l   l  DoS  l  
   
152 / 477

     

 

 83
l    ACL   ACL ""
l      ACL  ACL " "
   QoS
83 """" 1  """"""""
153 / 477

 RPC  QoS RPC   CPU 

 DoS   ""  

     ""  DoS SYN  SSH  TCP    RPC  RPC  


154 / 477

    
  LANVLAN ACL    ""
 6     
   ""
   
 84  

84  Google  SRE  2  155 / 477

 RPC    
   RPC   
 RPC   RPC  RPC    RPC   
  
    85 
VM  VM  
85  156 / 477

86    "" "" Google    

        

  
86 Google Cloud Platform "" 157 / 477


   
  
    
   
     

 
158 / 477

  
   
 Web       

   API   API  API   API    API  
Google     
159 / 477

- Google    ACL   API --  Google      Google  BeyondCorp   5    VLAN 802.1x   VLAN        Google  BeyondCorp   Google  
160 / 477


   Google       ACL    

      9    
161 / 477


      
l  l  l 

  

       HDD  SSD 
162 / 477

 

  
  87  bug 
 ACL  ACL  ACL88 ACL   ACL ""
 Google RPC   12   API   Google  
  API  Google   
87   67 "" 88  ACL  ACL 
163 / 477



l  A/B   
l  l 
      "" 
 
l  l  l  l 
    
164 / 477


         

   DoS  DoS     SRE  SRE  II  

    
165 / 477

 
l  l 
  / 



      89     - RPC       

89  SRE  3 

166 / 477

    API     
    SDN     

    

   RPC 
167 / 477

 
      RPC  
 ""  - 

 
   
    

168 / 477


l   
l   
l  ACL   
  - 

  
 90 56   9  
 15  
90  13  169 / 477

 -   API 

1. 2. 3. 4. 
l  l  13  l "Chaos Monkey" l   

   
l  RPC  l 
 /  
170 / 477

             

 Google  

  Google  API RPC    RPC   
171 / 477

  
 

  
  91      
   Google 
l  
l 
91  Unix  tee  stdin  172 / 477

   

   
    

    
Google    X    X  SLO  
173 / 477

  
  

 
 
 
  
 Google l    l    l 
  

174 / 477

  CRL ACL  

   

1.  2. 
3.  4. DoS  10  5.   
l   
l  -
l  
175 / 477

l ""  
l  DoS  
l   
      
  

   
    
  N + 1 
176 / 477

  
  
9. 
··· ··· 
  
   
  
     
177 / 477

    

  bug

   
 9293  CPU  
  UPS   
  UPS 
92 CAP  93  15  
178 / 477

 

   94 2015  2018  
  
 bug
/ 9596......  bug    API   6  12 
 bug   bug   
94 "HRA"  95 "" · 96 "..."--
179 / 477


              2   

    Google   

  
180 / 477

97  
 /     
    
    7  
 ShellShock98 Heartbleed 99  
97  18  7  98  CVE-2014-6271CVE-2014-6277CVE-2014-6278  CVE-2014-7169 99  CVE-2014-0160
181 / 477

100    
 9-1.         
100  
182 / 477



     
  bug Y2KUnix  ""  NTP  
 
l  l  l   8 Google  ALTS       ""

183 / 477

  SSH    
    
 epoch  version  """" epoch    epoch epoch  epoch epoch   epochepoch " " MASVN 
 epoch   epoch  version  
 epoch  epoch   epoch -  64bit   
184 / 477

 64bit 
 

 """ bug"  
  - 
  101  
   BIOS     
101  SHA256 185 / 477


  

   
 l  l SVNMASVN l 
 
/  ComponentState     MASVN 

    Release [DenyList] 
def IsUpdateAllowed(self, Release) -> bool:
186 / 477

return Release[Version] not in self[DenyList]
 / - " " "" 

   

  ComponentState [DenyList]  Release [DenyList] self [DenyList] Release [DenyList]"self" 

ComponentState[DenyList] = ComponentState[DenyList].union(self[DenyList))

"self"  ComponentState  

def IsUpdateAllowed(self, Release, ComponentState) -> bool:

return Release[Version] not in ComponentState[DenyList]

/

Release [DenyList]



187 / 477

 
l  
l  
l  

  Release [SVN] 
 Release [SVN]   Release [SVN]   
 102  MASVN  103   MASVN
l  MASVN 
102 "" 103  SVN   CVE-2018-3615
188 / 477

l  ComponentState [MASVN]  Release [SVN] ComponentState [MASVN]
def IsUpdateAllowed(self, Release, ComponentState) -> bool: return Release[SVN] >= ComponentState[MASVN]
 ComponentState [MASVN]  MASVN   MASVN Release [MASVN]  Release [MASVN] self [MASVN]  ComponentState [MASVN] Release [MASVN] ComponentState [MASVN] ComponentState [MASVN] [MASVN] Release [MASVN] 
ComponentState[MASVN] = max(self[MASVN], ComponentState[MASVN]) 
l  Release [MASVN] l  Release [SVN] Release [MASVN]  i + 1  Release [MASVN] i-1  ComponentState [MASVN]  i  i + 1  i-1  9-2  ComponentState [MASVN]
189 / 477



SVN4

 

 SVN5

 SVN5

MASVN4
 [MASVN]4

MASVN4
 [MASVN]4

 

MASVN5
  [MASVN]
 [MASVN]5

 /-i

 

 /+i

 9-2  ComponentState [MASVN]
 i-1  i  Release [SVN] Release [MASVN] i   i  i+1  MASVN 
""MASVN   API   ComponentState [MASVN]  ComponentState [MASVN]   API  


-

 Com ponentState 
190 / 477


def IsUpdateAllowed(self, Release, KeyDatabase) -> bool: return VerifySignature(Release, KeyDatabase)
    
 k + 1  k    k  
  Release [MASVN]  ComponentState [MASVN]  Release [SVN] MASVN     ComponentState [MASVN]  
   18 

 BIOS NIC  MASVN  
191 / 477


ROM OTP [MASVN] MASVN   OTP  ComponentState [MASVN]  MASVN  MASVN   MASVN 
 OTP    OTP    MASVN 
   
      
  FPGA  104
104  Xilinx Zynq Ultrascale + 192 / 477


        SSH 105
      

      
105  17  193 / 477


   /epoch  /epoch /epoch    DoS  
  

 authenticated_users KRL 106
             authorized_keys  known_hosts   
  authorized_keys  known_hosts   
106 KRL CA   ssh-keygen1
194 / 477


    
   -

   SSH   SSH  KRL   KRL 107­  KRL   KRL   KRL  108
107  POSIX  Linux RENAME_EXCHANGE  renameat2  108  KRL 
195 / 477


  ""     "" - 
 bytes 
 bug       

" " REST Web  -/ VM/ 
196 / 477


 Docker    SRE  7     Google
""Google      
  bits     
  SSH    post_install 109  OpenSSH  post_install  SSH  
109 post_install  pre_rm  Debian  preinstpostinstprerm  postrm Google   
197 / 477

pre_rm  
    shellcode   110
  canary  bash   

   
 Google                         "     "  Automation  
  - 
110  17  198 / 477

   BIOS  3 BIOS  1 BIOS  2   BIOS  3 
 Google  GNSS/GPS   Spanner 111    leap      
 BIOS   USB  SATA  USB   BIOS   BIOS  


111 Spanner  Google   
199 / 477

  Spanner  Hadoop  
  Terraform    API 
 ""     GCP  AWS    112

113
  114
112  2012 "" ACM  109 https://oreil.ly/vJ66c 113   W. Curtis Preston  Unix BackupRecoveryO'Reilly  ·Ron Rodriguez"-" 114  Kristina Bennett  SREcon18 " "
200 / 477


    
   99.99 0.01     MTTR 
     
 115     

115  Google 

201 / 477


 8         Google Arm  x86 CPUUEFI Microsoft Visual C ++MSVCClangGCC        
 //  

  
202 / 477


-     
 -      SLA116
Google       

  
116  TreynorBen  2017 "" ACM  152 https://oreil.ly/It4-h 203 / 477

/
  SSO    ""  
 117    
Google 
Google  SSO       

117 SDN

204 / 477


 
 Google ChatSkype  Slack    Internet  IP  Internet  IRC  IRC   

   -  118
   Google Chrome  Chrome   
118 Breakglass "" 205 / 477

       
   

   ""  
    
  119
119  SRE  3  206 / 477

  21 

         
10.
· ·· DoS      DoS   DoS   
207 / 477

120    DoS  DoS 

   

  
1. DNS  IP  2. 3. 4.     DDoS
120  
208 / 477

 DDoS  

   
  IP  DoS 
 IP    DNSNTP  memcache121.122
  ACL  ACL   UDP 123

 
121  LiveJournal  Brad Fitzpatrick    BSD license  122 ossow, Christian. 2014. "Amplification Hell: Revisiting Network Protocols for DDoS Abuse."  21  . doi:10.14722/ndss.2014.23233. 123  TCP   KührerMark  2014 "Hell of a Handshake: Abusing TCP for Reflective Amplification DDoS Attacks."  8  USENIX   https://oreil.ly/0JCPP
209 / 477

     DoS -    
 DDoS   DoS   DoS    DoS  DDoS 

  CPU      

   
210 / 477

  DoS    ACL  
 124  ACL      10-1   Project Shield   DoS 
 10-1 Project Shield   Project Shield  DDoS 
 DDoS   
124  211 / 477

125  Anycast IP    

   
 Cache-Control       ""126      
125  126  UI    1000 
212 / 477


 DoS  

MTTDMTTR DoS  CPU   CPU       DoS    synflood  syncookie1278  

  ACL     QoS QoS 
127  synflood TCP   syncookie 
213 / 477

 QoS   Google  
l Blogger  l Web  l DNS   8 
DoS 
 IP  JavaScript  CAPTCHA     DoS  
      IP    IP    IP  CAPTCHA 
CAPTCHA

214 / 477

 cookie  CAPTCHA  cookie Google  Cookie  
l  l  l  Cookie  l  IP  l  cookie  DoS -  DoS   DoS    Gmail  Google  DoS   Google   DoS     - 1      Google   DoS 
215 / 477


    I AM BOT NET  User-Agent Chrome   IP  A/B     HTTP DDoS  "" -   DoS  

 

   
216 / 477

 10-2 
 10-2 2019  10  14  4.5  HTTP   Google 

2009 Google Web   SRE     10   
l  l      Google  ""
217 / 477



""    9   -   Google   DNS   DNS -  30   DDoS    

     
218 / 477

   
219 / 477

 3  
  11  
 12  13   14   
  15  
11. CA
By Andy Warner, James Kasten, Rob Smits, Piotr Kucharski, and Sergey Simakov
SRECA  VPN   Google  CA   

TLS128S/MIME129  Internet    CA  CA
128 RFC 8446  TLS  129 / Internet 
220 / 477


CA   CA  WebTrust ETSI   CA130  TLS   CA 
l  
l  
l  
l  
 CA
 CA  Google   CA  

  CA  
130  Microsoft  AD  CA 
221 / 477

CA 131 
Google  TLS " HTTPS "  TLS   CA   API SLA     Google  TLS  CA   CA 

Google  CA   CA  CA   
CA    CA    Google  CA   Spanner 
131  CA DigiNotar  222 / 477

   DNSHTTP  132 CA  

 CA        CA     

    
132 CA / Browser  223 / 477


  Go  C ++ CA Go  C++   Go CA  CSR CA CSR   DER133 Go   C++ Google     CSR  Go   C++    C++ Google  W ^ X
 shellcode  PROT_EXEC   CPU  Scudo Allocator  SafeStack
133 Mitre CVE  DER  224 / 477



 CA""  Web  CA    CA   CA     RPC  ACL    ACL  ACL  RPC 

 CA   CA      - - CSR  X.509  Borg 
225 / 477

134
 CA HSM CA   HSM   
l  HSM   CA 
l  nsjail  l 

 13      CA  
 Google  "" Google  Tricorder   CA  AddressSanitizerASAN ThreadSanitizer""   CA ""
134 Borg  VermaAbhishek  2015 " Borg  Google  "  10 1-17 doi10.1145 / 2741948.2741964
226 / 477

 Fixits  CA
 Fixit Fixits  Google   CA  Go X.509   Go  x.509  OpenSSL  BoringSSL  Fixit Fuzzit 
 CA 
CA  CA  CA   HSM   CA     CA  ""   

 CA   CA 
227 / 477

"" Google   CA  linter  135linter  subject commonName " "   

  
12.
By Michal Czapiski and Julian Bangert with Thomas Maufer and Kavita Guliani
 
 RPC     
 
135 ZLint  Go  lint RFC 5280  CA / Browser Forum  
228 / 477

 4     SRE    SRE  -   XSS  HTML  RPC       21 

 6    SQL   HTML  Web   XSS 


229 / 477

   RPC C ++
   
   
       
SQL SQLI OWASP  SANS    TrustedSqlString  " SQL TrustedSqlString" 


230 / 477

 
  -  
  21     
     
  -
   Tink" API  Tink " 
 
231 / 477

  RPC 
RPC 
 RPC  
l  l  l  l   RPC    12-1   RPC     
232 / 477

 12-1  RPC  
  RPC ""  
 
233 / 477

   
  
 RPC    
  136137  RPC 
  

 12-1  12-3  RPC   Go  Google 
 12-1  
type Request struct { Payload proto.Message
}
136  SRE  22  137  SRE  22 
234 / 477

type Response struct { Err error Payload proto.Message } type Interceptor interface { Before(context.Context, *Request) (context.Context, error) After(context.Context, *Response) error } type CallInfo struct { User string Host string ... }
 12-2 
type authzInterceptor struct { allowedRoles map[string]bool
} func (ai *authzInterceptor) Before(ctx context.Context, req *Request) (context.Context, error) {
// callInfo was populated by the framework. callInfo, err := FromContext(ctx) if err != nil { return ctx, err }
if ai.allowedRoles[callInfo.User] { return ctx, nil } return ctx, fmt.Errorf("Unauthorized request from %q", callInfo.User) } func (*authzInterceptor) After(ctx context.Context, resp *Response) error { return nil // Nothing left to do here after the RPC is handled. }
 12-3 
235 / 477

WithAttemptCount  RPC 
type logInterceptor struct { logger *LoggingBackendStub
}
func (*logInterceptor) Before(ctx context.Context, req *Request) (context.Context, error) {
// callInfo was populated by the framework. callInfo, err := FromContext(ctx) if err != nil { return ctx, err } logReq := &pb.LogRequest{
timestamp: time.Now().Unix(), user: callInfo.User, request: req.Payload, } resp, err := logger.Log(ctx, logReq, WithAttemptCount(3)) return ctx, err } func (*logInterceptor) After(ctx context.Context, resp *Response) error { if resp.Err == nil { return nil }
logErrorReq := &pb.LogErrorRequest{ timestamp: time.Now().Unix(), error: resp.Err.Error(),
} resp, err := logger.LogError(ctx, logErrorReq, WithAttemptCount(3)) return err }
236 / 477



  OWASP  SANS   12-1  OWASP  10  

 12-1 OWASP 

OWASP 



[SQL]

TrustedSQLString



  OAuth"RPC "







 LetsEncrypt 

HTTPS  Tink  API 



 XXE  XML  
XML XXE a





 RPC  





 Web 





Rails 



XSS  XSS  " XSSSafeHtml"

237 / 477

 

 



""



  

a  XXE 

SQL TrustedSqlString

SQL  SQL    Web 
db.query("UPDATE users SET pw_hash = '" + request["pw_hash"] + "' WHERE reset_token = '" + request.params["reset_token"] + "'")
  reset_token SQL ' username ='admin reset_token    admin 
 SQL   SQL 
Query q = db.createQuery( "UPDATE users SET pw_hash = @hash WHERE token = @token");
q.setParameter("hash", request.params["hash"]); q.setParameter("token", request.params["token"]); db.query(q);
   API  SQL  TrustedSqlString  SQL 
238 / 477

 Go 
struct Query { sql strings.Builder;
} type stringLiteral string; //  func (q *Query) AppendLiteral(literal stringLiteral) {
q.sql.writeString(literal); } // q.AppendLiteral("foo") will work, q.AppendLiteral(foo) will not
 q.sql    AppendLiteral
 Go 
stringLiteral  
 Java 
@CompileTimeConstant 
 C++


  SQL   Google   API  unsafequery unsafe query.String  SQL   API
239 / 477

 SQL   API "" 
 XSSSafeHtml
 SQL Google   Web 138
 Web  XSS  $ address  HTML  <div> $ address </div> $ address <script> exfiltrate_user_data; </ script> 
HTML  HTML   HTML    URL  javascript
  HTML  SafeHtml URL  SafeUrl   
Google  builder   SafeHtml  builder  HTML   SafeHtml  HTML 
1.  HTML
138  KernChristoph 2014 "" ACM  57 938-47 https://oreil.ly/drZss
240 / 477

2.  3. 
 
{template .foo kind =" html"} <script src =" {$ url}"> </ script> {/ template} $ url  templateRendered.setMapData  ImmutableMap.of  "url"  some_variable;  TrustedResourceUrl  templateRenderer.setMapData
ImmutableMap.of  "x"  TrustedResourceUrl.fromConstant "/script.js".render;  HTML  Web UI   XSS  HTML  HTML    HTML   HTML builder     Google   builder   HTML   HTML   HTML   Web 
241 / 477


 API  API   Web  DOM API   API  Java  Error Prone  TypeScript  Tsetse    linter   API  IDE     - SafeHtml   SQL  TrustedSql Builder.fromConstant    API     API  API 
242 / 477

139
    GDB GNU   

  HTML 
<a onclick="showUserProfile('{{username}}');">Show profile</a>">
 XSS JavaScript HTML      
     HTML 
 
139  BesseyAl 2010 "A Few Billion Lines of Code Later: Using Static Analysis to Find Bugs in the Real World." ACM  53266­75 doi10.1145 / 1646353.1646374
243 / 477

 "SQL TrustedSqlString" 
   

  HTML  Google  Web   XSS   
 - 
 Google  140    
Google   Google   
140 ·2016""ACM  59778­8710.1145/2854146
244 / 477

  

   Google API   doQueryString sql API  doQueryTrustedSqlString sql  @RestrictedApiwhitelistAnnotation = {LegacyUnsafeStringQueryAl lowed.class}        @LegacyUnsafeStringQueryAllowed   Git   API Bazel  PR API   API   API    SQL 

    API   API URL  DOM API
245 / 477


141  Google Testing Blog  

     12-2  142
 12-2.  """"  
141 , Ousterhout, John. 2018. A Philosophy of Software Design. Palo Alto, CA: Yaknyam Press. 142 Karpilovsky, Elliott. 2017. "Code Health: Reduce Nesting, Reduce Complexity." https://oreil.ly/PO1QR.
246 / 477

 YAGNI 
   YAGNI YAGNI  143
class Mammal { ... virtual Status Sleep(bool hibernate) = 0; }; class Human : public Mammal { ... virtual Status Sleep(bool hibernate) { age += hibernate ? kSevenMonths : kSevenHours; return OK; } }; Human :: Sleep  true   false OK  Human 
class Human { ... void Sleep() { age += kSevenHours; } };    API  Mammal 
 YAGNI  
143 Eaddy, Marc. 2017. "Code Health: Eliminate YAGNI Smells." https://oreil.ly/NYr7y. 247 / 477


 TODO  FIXME    
   

l  todo   
l  linter   
l  
  Fixit   

  

248 / 477

144  100   13  
   
 Martin Fowler 145 Wright  2013146Wasserman2013147 Potvin and Levenberg2016

  21 


l  l  l  
144  Stackify  145 Fowler, Martin. 2019. Refactoring: Improving the Design of Existing Code. Boston, MA: Addison-Wesley. 146 Wright, Hyrum et al. 2013. "Large-Scale Automated Refactoring Using Clang." Proceedings of the 29th Inter- national Conference on Software Maintenance: 548­551. doi:10.1109/ICSM.2013.93. 147 Wasserman, Louis. 2013. "Scalable, Example-Based Refactorings with Refaster." Proceedings of the 2013 ACM Workshop on Refactoring Tools: 25­28 doi:10.1145/2541348.2541355.
249 / 477


·Matt Miller 2019  2  BlueHat   70148 12  
 2016  Google ·Nick Kralevich Android  85  5414914 "  " Java  Go C/C ++  ""

" "150  
  
 Python  100 - 
148 2019""BlueHat IL https://goo.gl/vKM7uQ 149 2016" "BlackHathttps://oreil.ly/16rCq 150 ·1974""ACM SIGPLAN  50-5910.1145/800233.807045
250 / 477

 JavaScript [9810] .sort -> [1089]151  
  
l Python  Pytype l JavaScript  TypeScript


l  l  l 152 l   
l  AddUserToGroupstringstring 
l Rectangle3.145.67 l Circle  

151  JavaScript  Ruby  Gary Bernhardt  CodeMash 2012  152  2017 "Code Health: Obsessed with Primitives?" https://oreil.ly/0DvJI
251 / 477


l Add(User("alice"), Group("root-users")) l Rectangle(Width(3.14), Height(5.67)) l Circle(Radius(1.23)) UserGroupWidthHeight  Circle  -  Add 

l  l  l   C++{}  

class Bar { public: Bar(bool is_safe) {...}
}; void Foo(const Bar& bar) {...} Foo(false); //  Bar  Foo(5); //  Baris_safe= true Foo(NULL); //  Baris_safe= false
 C++  Bar  bool  C ++ bool
252 / 477

 std :: complex   - Barbool is_safe  nullptr  NULL  bool  
 Timer30 30  30   " Gimli Glider"    1.25 ""         Timestamp :: ToUnixDuration :: ToHoursWeight :: ToKilo grams  Go  C++ 20   chrono 
253 / 477

Fluent C ++ C++

   C ++ Go  C ++Valgrind  Google Sanitizers
C++ 
l  l  l  l 

Valgrind  Valgrind  Valgrind  Helgrind  
l  POSIX pthreads API 
l  l  Google Sanitizers  Valgrind  Callgrind  l AddressSanitizerASan
254 / 477

 l Leak SanitizerLSan l Memory SanitizerMSan l Thread SanitizerTSan l Undefined Behavior SanitizerUBSan
  Google Sanitizers  Valgrind  10  CLion  IDE  Google Sanitizers  
Go
 Go  C ++ Go Race Detector 


      
 

13.

By Phil Ames and Franjo Ivanci with Vera Haas and Jen Barnason
255 / 477

  
  
  SRE  22 "" 
 153   

  ""    xUnit 
 xUnit    Java  JUnitC++ GoogleTestGolang  go2xunit  Python 
153  SRE  17  256 / 477

unittest 
 13-1  GoogleTest 
 13-1  GoogleTest  
TEST(IsPrimeTest, Trivial) { EXPECT_FALSE(IsPrime(0)); EXPECT_FALSE(IsPrime(1)); EXPECT_TRUE(IsPrime(2)); EXPECT_TRUE(IsPrime(3));
}
 /CI/CD  

      9 - 
      
257 / 477

   

  " " 
   if condition_1 || condition_2 iffalse iftrue  Google   Petrovic  Ivankovic2018154
TDD   
 TDD    

154 PetrovicGoran  MarkoIvankovic 2018 " Google "  40  163­171 doi10.1145 / 3183519.3183521
258 / 477

     
   

   
     
 IssueTrack erService  ""  API 
""   
259 / 477

    
 "" ""
     155

    GNU C ""
 Wycheproof  Wycheproof  Java  Java  JCA JCA  JCA   
 RFC  
155  Google  WrightHyrum  tituswinters2015" "CppCon 2015https://oreil.ly/idleN
260 / 477



   -         Google    Jenkins 
 5        
261 / 477


   QA   QA   QA  
     -

    
  Valgrind  
  
262 / 477

 C/C++ 
Google Sanitizers  LLVM  GCC  AddressSanitizerASan C/C++ 
UndefinedBehaviorSanitizer 
ThreadSanitizer 
MemorySanitizer 
LeakSanitizer 
 ASan 
ASan  ASan  sanitizer  ASan    malloc  freemalloc   ASan  ASan  ASan  
 Clang  ASan Shell  "use-after-free"
263 / 477

  -fsanitize = address  ASan 

$ cat -n use-after-free.c 1 #include 2 int main() { 3 char *x = (char*)calloc(10, sizeof(char)); 4 free(x); 5 return x[5]; 6 } $ clang -fsanitize=address -O1 -fno-omit-frame-pointer -g use-after-free.c
 ASan   ASan ASan   LLVM ""  "Clang "ASan  1   

% ./a.out

===========================================================

==142161==ERROR: AddressSanitizer: heap-use-after-free on address

0x602000000015

at pc 0x00000050b550 bp 0x7ffc5a603f70 sp 0x7ffc5a603f68

READ of size 1 at 0x602000000015 thread T0

#0 0x50b54f in main use-after-free.c:5:10

#1 0x7f89ddd6452a in __libc_start_main

#2 0x41c049 in _start

0x602000000015 is located 5 bytes inside of 10-byte region

[0x602000000010,0x60200000001a)

freed by thread T0 here:

#0 0x4d14e8 in free

264 / 477

#1 0x50b51f in main use-after-free.c:4:3 #2 0x7f89ddd6452a in __libc_start_main previously allocated by thread T0 here: #0 0x4d18a8 in calloc #1 0x50b514 in main use-after-free.c:3:20 #2 0x7f89ddd6452a in __libc_start_main SUMMARY: AddressSanitizer: heap-use-after-free use-after-free.c:5:10 in main [...] ==142161==ABORTING

    CI/CD    CI/CD   
Fuzz
Fuzz   Fuzzer  Fuzzer   


265 / 477

 Java  Go  
Google    156    Netflix  Simian Army   Spinnaker 
 A  B Fuzzer  Fuzzer ""  OpenSSL  BigNum fuzzer  157
    

    
156  SRE  2  157  OpenSSL 
266 / 477

  Fuzzer 
 HTTPSQL  JSON     
 Peach Fuzzer  Fuzz  Fuzz   Fuzz      MP3  JPEG-   
l OSS-Fuzz  l The Fuzzing Project  l American Fuzzy Lop (AFL)   C/C ++ LLVM Clang     AFL  afl-gcc  go-fuzz  go-fuzz-build
 
267 / 477

     21 
    
  Fuzzer ""  DoS 
""
  C/C ++C++   UndefinedBehaviorSani   "" Fuzz  " "-__attribute __no_sanitize " unde fined" 
  Web  TLS  cookie  Heartbleed
268 / 477

CVE-2014-0160Google  fuzzer-test-suite GitHub   Dockerfile Heartbleed   ASan __asan_memcpy 
==19==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x629000009748 at pc 0x0000004e59c9 bp 0x7ffe3a541360 sp 0x7ffe3a540b10 READ of size 65535 at 0x629000009748 thread T0
#0 0x4e59c8 in __asan_memcpy /tmp/final/llvm.src/projects/compilerrt/lib/asan/asan_interceptors_memintrinsics.cc:23:3 #1 0x522e88 in tls1_process_heartbeat /root/heartbleed/BUILD/ssl/t1_lib.c:2586:3 #2 0x58f94d in ssl3_read_bytes /root/heartbleed/BUILD/ssl/s3_pkt.c:1092:4 #3 0x59418a in ssl3_get_message /root/heartbleed/BUILD/ssl/s3_both.c:457:7 #4 0x55f3c7 in ssl3_get_client_hello /root/heartbleed/BUILD/ssl/s3_srvr.c:941:4 #5 0x55b429 in ssl3_accept /root/heartbleed/BUILD/ssl/s3_srvr.c:357:9 #6 0x51664d in LLVMFuzzerTestOneInput /root/FTS/openssl-1.0.1f/target.cc:34:3 [...]
0x629000009748 is located 0 bytes to the right of 17736-byte region [0x629000005200, 0x629000009748) allocated by thread T0 here:
#0 0x4e68e3 in __interceptor_malloc /tmp/final/llvm.src/projects/compiler-rt/lib/asan/ asan_malloc_linux.cc:88:3 #1 0x5c42cb in CRYPTO_malloc /root/heartbleed/BUILD/crypto/mem.c:308:8 #2 0x5956c9 in freelist_extract /root/heartbleed/BUILD/ssl/s3_both.c:708:12 #3 0x5956c9 in ssl3_setup_read_buffer /root/heartbleed/BUILD/ssl/s3_both.c:770 #4 0x595cac in ssl3_setup_buffers /root/heartbleed/BUILD/ssl/s3_both.c:827:7 #5 0x55bff4 in ssl3_accept /root/heartbleed/BUILD/ssl/s3_srvr.c:292:9 #6 0x51664d in LLVMFuzzerTestOneInput /root/FTS/openssl-1.0.1f/target.cc:34:3 [...]
  
269 / 477


    
  ""   ASan  Fuzzer  
  American Fuzzy Lop QEMU CPU    
 libFuzzerAFL  Honggfuzz    
 Fuzz 
 CVM  LLVM libFuzzer   Honggfuzz  AFL libFuzzer  
270 / 477


int LLVMFuzzerTestOneInput(const uint8_t *data, size_t size);
    
l  l  I/O"
" l 
   CRC32  ""  -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION Fuzzer  
 Fuzzer 
 Knusperli  C++ Fuzzer  Knusperli  JPEG  web   Knusperli JPEG size   FuzzedDataProvider 
271 / 477

 

bool ReadJpeg(const uint8_t* data, const size_t len, JpegReadMode mode, JPEGData* jpg);

Knusperli  Bazel .bazelrc   libFuzzer  Fuzzer ASan 

$ cat ~/.bazelrc build:asan --copt -fsanitize=address --copt -O1 --copt -g -c dbg build:asan --linkopt -fsanitize=address --copt -O1 --copt -g -c dbg build:asan --copt -fno-omit-frame-pointer --copt -O1 --copt -g -c dbg
 ASan 

$ CC=clang-6.0 CXX=clang++-6.0 bazel build --config=asan :knusperli

 BUILD  Fuzzer 

cc_binary( name = "fuzzer", srcs = [ "jpeg_decoder_fuzzer.cc", ], deps = [ ":jpeg_data_decoder", ":jpeg_data_reader", ], linkopts = ["-fsanitize=address,fuzzer"],
)  13-2 

 13-2. jpeg_decoder_fuzzer.cc

1 #include 2 #include

272 / 477

3 #include "jpeg_data_decoder.h" 4 #include "jpeg_data_reader.h" 5 6 extern "C" int LLVMFuzzerTestOneInput(const uint8_t *data, size_t sz) { 7 knusperli::JPEGData jpg; 8 knusperli::ReadJpeg(data, sz, knusperli::JPEG_READ_HEADER, &jpg); 9 return 0; 10 }


$ CC=clang-6.0 CXX=clang++-6.0 bazel build --config=asan :fuzzer $ mkdir synthetic_corpus $ ASAN_SYMBOLIZER_PATH=/usr/lib/llvm-6.0/bin/llvm-symbolizer bazel-bin/fuzzer \ max_total_time 300 -print_final_stats synthetic_corpus/
 Fuzzer LibFuzzer   synative_corpus/ 

[...]

INFO: 0 files found in synthetic_corpus/

INFO: -max_len is not provided; libFuzzer will not generate inputs larger than 4096 bytes

INFO: A corpus is not provided, starting from an empty corpus

#2 INITED cov: 110 ft: 111 corp: 1/1b exec/s: 0 rss: 36Mb

[...]

#3138182 DONE cov: 151 ft: 418 corp: 30/4340b exec/s: 10425 rss: 463Mb

[...]

Done 3138182 runs in 301 second(s)

stat::number_of_executed_units: 3138182

stat::average_exec_per_sec: 10425

stat::new_units_added: 608

stat::slowest_unit_time_sec: 0

273 / 477

stat::peak_rss_mb: 463
 JPEG  cov  10

#2 INITED cov: 169 ft: 170 corp: 1/8632b exec/s: 0 rss: 37Mb

 JpegReadMode 

enum JpegReadMode { JPEG_READ_HEADER, // only basic headers JPEG_READ_TABLES, // headers and tables (quant, Huffman, ...) JPEG_READ_ALL, // everything
};
 Fuzzer   Fuzzer   N   N 

 FuzzedDataProvider         JPEG 

 64   JpegReadMode 13-3 

 13-3 

#include <cstddef> #include <cstdint>

274 / 477

#include "jpeg_data_decoder.h" #include "jpeg_data_reader.h"

const unsigned int kInspectBytes = 64; const unsigned int kInspectBlocks = kInspectBytes / sizeof(unsigned int);

extern "C" int LLVMFuzzerTestOneInput(const uint8_t *data, size_t sz) { knusperli::JPEGData jpg; knusperli::JpegReadMode rm; unsigned int bits = 0;

if (sz <= kInspectBytes) { // Bail on too-small inputs. return 0;
}

for (unsigned int block = 0; block < kInspectBlocks; block++) { bits +=
__builtin_popcount(reinterpret_cast(data)[block]); } rm = static_cast<knusperli::JpegReadMode>(bits %
(knusperli::JPEG_READ_ALL + 1)); knusperli::ReadJpeg(data, sz, rm, &jpg); return 0; }
 5 

#851071 DONE cov: 196 ft: 559 corp: 51/29Kb exec/s: 2827 rss: 812Mb

[...]

Done 851071 runs in 301 second(s)

stat::number_of_executed_units: 851071

stat::average_exec_per_sec: 2827

stat::new_units_added: 1120

stat::slowest_unit_time_sec: 0

275 / 477

stat::peak_rss_mb: 812
  cov   Fuzzer  Heartbleed   Fuzzer 

 Fuzzer  Fuzzer  Fuzzer   SLO 
ClusterFuzz  OSSFuzz
ClusterFuzz  Google   Web  ClusterFuzz  Fuzzer/ Fuzzer  Google Cloud Storage  ClusterFuzz   ClusterFuzz   Fuzzer 
ClusterFuzz Web  Fuzzer   2020 ClusterFuzz  libFuzzer  AFLClusterFuzz   Clang  Fuzzer 
276 / 477

 Google Cloud Storage   Fuzzer   Fuzz 
OSS-Fuzz            Google Cloud Platform     ClusterFuzz  - 2016  12 OSS-Fuzz  1000   bug bug
 OSS-Fuzz   Google  OSSFuzz    OSS  Google   Google 

    
 AST 
   
277 / 477

     158
   

  linter    - 
   
AST  AST   AST  if-then-else 
158  BozzanoMarco 2017 ""  Shin NakajimaJean-Pierre TalpinMasumi Toyoshima  Huafeng Yu  
278 / 477

 if  then  else 
 java  C/C++ Clang Tidy   2018 162  Error Prone  733 Error Prone  ClangTidy  Clang  MSVC  C ++GSL C ++ 
AST  AST   absl-string-find-startsWith Clang-Tidy  C++ string :: find API  Clang-Tidy  ABSL  StartsWith API  AST  C ++ string :: find API  0  Clang-Tidy  AST  AST  

std::string s = "..."; if (s.find("Hello World") == 0) { /* do something */ }
absl-string-find-startsWith Clang-Tidy  
std::string s = "..."; if (absl::StartsWith(s, "Hello World")) { /* do something */ }
Clang-Tidy AST  13-1  AST  AST  AST  AST  AST  AST  
279 / 477

 13-1 AST 
Clang-Tidy   Clang-Tidy159
$ cat -n sizeof.c 1 #include 2 const char* kMessage = "Hello World!"; 3 int main() { 4 char buf[128]; 5 memcpy(buf, kMessage, sizeof(kMessage)); 6 return 0; 7 }
$ clang-tidy sizeof.c [...] Running without flags. 1 warning generated. sizeof.c:5:32: warning: 'memcpy' call operates on objects of type 'const char' while the size is based on a different type 'const char *' [clang-diagnostic-sizeof-pointer-memaccess]
memcpy(buf, kMessage, sizeof(kMessage)); ^
159  clangtidy clang-tidy 280 / 477

sizeof.c:5:32: note: did you mean to provide an explicit length? memcpy(buf, kMessage, sizeof(kMessage));
$ cat -n sizeof2.c 1 #include 2 const char kMessage[] = "Hello World!"; 3 int main() { 4 char buf[128]; 5 memcpy(buf, kMessage, sizeof(kMessage)); 6 return 0; 7 }
$ clang-tidy sizeof2.c [...] Running without flags.
 kMessage  kMessage  sizeofkMessageClang-Tidy    clang-diagnostic-sizeofpointer-memaccess          kMessage  const char []sizeofkMessage  Clang-Tidy 
Clang-Tidy   absl-string-find-startsWith Clang-Tidy   13-1  AST --fix   Clang-Tidy 
 clang-Tidy moderize   modernize-use-nullptr   nullptr  moderize  Clang-Tidy --checks = modernize- *;  --fix  
281 / 477

$ cat -n nullptr.cc 1 #define NULL 0x0 2 3 int *ret_ptr() { 4 return 0; 5 } 6 7 int main() { 8 char *a = NULL; 9 char *b = 0; 10 char c = 0; 11 int *d = ret_ptr(); 12 return d == NULL ? 0 : 1; 13 }
$ clang-tidy nullptr.cc -checks=modernize-* --fix [...] Running without flags. 4 warnings generated. nullptr.cc:4:10: warning: use nullptr [modernize-use-nullptr]
return 0; ^ nullptr
nullptr.cc:4:10: note: FIX-IT applied suggested code changes return 0; ^
nullptr.cc:8:13: warning: use nullptr [modernize-use-nullptr] char *a = NULL; ^ nullptr
282 / 477

nullptr.cc:8:13: note: FIX-IT applied suggested code changes char *a = NULL; ^
nullptr.cc:9:13: warning: use nullptr [modernize-use-nullptr] char *b = 0; ^ nullptr
nullptr.cc:9:13: note: FIX-IT applied suggested code changes char *b = 0; ^
nullptr.cc:12:15: warning: use nullptr [modernize-use-nullptr] return d == NULL ? 0 : 1; ^ nullptr
nullptr.cc:12:15: note: FIX-IT applied suggested code changes return d == NULL ? 0 : 1; ^
clang-tidy applied 4 of 4 suggested fixes.

$ cat -n nullptr.cc 1 #define NULL 0x0 2 3 int *ret_ptr() { 4 return nullptr; 5 } 6 7 int main() { 8 char *a = nullptr; 9 char *b = nullptr; 10 char c = 0;

283 / 477

11 int *d = ret_ptr(); 12 return d == nullptr ? 0 : 1; 13 }
GoVet  Go  Pylint  Python  Error Prone  Java   Bazel "Error Prone"  Java  Short  i  i-1   int 

$ cat -n ShortSet.java 1 import java.util.Set; 2 import java.util.HashSet; 3 4 public class ShortSet { 5 public static void main (String[] args) { 6 Set s = new HashSet<>(); 7 for (short i = 0; i < 100; i++) { 8 s.add(i); 9 s.remove(i - 1); 10 } 11 System.out.println(s.size()); 12 } 13 }

$ bazel build :hello

ERROR: example/myproject/BUILD:29:1: Java compilation in rule

'//example/myproject:hello'

ShortSet.java:9: error: [CollectionIncompatibleType] Argument 'i - 1' should not be

passed to this method;

its type int is not compatible with its collection's type argument Short

s.remove(i - 1);

284 / 477

^ (see http://errorprone.info/bugpattern/CollectionIncompatibleType) 1 error

  
 CI/CD     21   Tricorder 160 Tricorder  ShipshapeTricorder  50,000     10
Tricorder  2018   146  30  Google  Tricorder   Error Prone  Clang-Tidy  
 13-2  Java  Tricorder   Java linter  Error Prone Tricorder 
160  SadowskiCaitlin 2018 ""ACM 61 458­6610.1145/3188720
285 / 477

"" Tricorder  " "
 13-2  Tricorder   13-3 ""
 13-3  13-2 ""

     
286 / 477

  Ghidra
 condicolic   concord--concrete + symbolic   123 concolic   123   if conconic      conlicolic KLEE  

161 162 10   246810 12141618  20  [220] 

161 Cousot, Patrick, and Radhia Cousot. 1976. "Static Determination of Dynamic Properties of Programs." Proceedings of the 2nd International Symposium on Programming: 106­130. https://oreil.ly/4xLgB. 162 Souyris, Jean et al. 2009. "Formal Verification of Avionics Software Products." Proceedings of the 2nd World Conference on Formal Methods: 532­546. doi:10.1007/978-3-642-05089-3_34.
287 / 477

  11
 CFG CFG  CFG   CFG  if   CFG libFuzzer Fuzzer  
      
 Frama-C    C  --  JavaC  AbsInt  ASI Google Play  Android ASI   13-4  2019  300,000  Play 
288 / 477



 13-4 

 ""   " "  
163 EDA   TLS  164


163  Kern, Christoph, and Mark R. Greenstreet. 1999. "Formal Verification in Hardware Design: A Sur- vey." ACM Transactions on Design Automation of Electronic Systems 4(2): 123­193. doi: 10.1145/307988.307989. See also Hunt Jr. et al. 2017. "Industrial Hardware and Software Verification with ACL2." Philosophical Transactions of The Royal Society A Mathematical Physical and Engineering Sciences 375(2104): 20150399. doi: 10.1098/rsta.2015.0399. 164  Chudnov, Andrey et al. 2018. "Continuous Formal Verification of Amazon s2n." Proceedings of the 30th International Conference on Computer Aided Verification: 430­446. doi:10.1007/978-3-31996142-2_26.
289 / 477

 12   Google   
 CI/CD   
14.
By Jeremiah Spradlin and Mark Lodato
with Sergey Simakov and Roxana Loza
      
     
 
290 / 477





 VCSCICD 
  14-1
1. 2. 3. 4.

Source 

Build 

Test 

Deploy 

 14-1. 
 142 
 2     

 Git VM -""""
291 / 477



2 CI   Docker


3 CI   



 

4    

1  




2  CI  





 14-2 

 """" Docker  "" Docker 



l  n  n  Kubernetes  Docker  n  VM 
l  n  SQL  n  Kubernetes 
l  n  deb  apt  n  Docker  n  APK  Google Play 


292 / 477


 
l  l  l   2 
  "" 
l  l  l 
 l 
 l  l  ACL l  l  l CI 
 l  CI 
 l  CD 
 
293 / 477

  

 

 165 166  21 
167  5 
  -168
 GitHub GitLab  BitBucket /  Gerrit  Phabricator 
 12 
165 "" 166 SadowskiCaitlin 2018 "" 40  181­19010.1145/3183519.3183525 167   168 ""
294 / 477

"" 13   12 

169    " "       
  CI/CD  Jenkins     
169  
295 / 477

  CI/CD   SSH   ""  

  170   Google Kubernetes EngineGKE CI/CD   breakglass  Kubernetes 171 CI/CD   CI/CD  "" 

 
170  5  171 ""
296 / 477

172
 
 Kubernetes   YAML 173 kubectl  YAML "" YAML  YAML 
  
   
  diffgrep 174

  
l  
172 SRE  8  SRE  14  15   173 YAML  Kubernetes  174 
297 / 477


l   Cloud KMS
l    



   14-1  

 14-1 







 



 13  



   

 - 







 

  CI/CD 





  

            ""

298 / 477





  CI/CD  

 CI/CD 



 



"" 





  ACL   

 ACL  







 

 

 CI/CD 



 9 



""



 14-3 




Source 

Build 

Test 

Deploy 

× × × × 



 

 14-3 -

299 / 477

l  l CI 
 l  CI 
 l  CD 
   

   /        

 
300 / 477

 / 
Binary Provenance
        Binary Provenance
Binary Provenance 
  
  175   Binary Provenance      

175 

301 / 477

 
"" "Git  https://github.com/mysql/mysql-server   270f ... ce6d"176"SHA-256  78c5 ... 6649  foo.tar.gz"     " bazel build //mainhello-world"  " {" bazel"{" command"" build"" target"" // main hello_world"}}"          
176 Git commit id  302 / 477

 
Debian  build   dpkg-buildpackage
 URI     i  i+1 
  GCC -D   "" 
 Binary Provenance  Debian  deb-buildinfo   JSON Web JWT

  
 Windows  Authenticode   

303 / 477

  ""

""     Binary Provenance  
l  
l  l  Binary Provenance 
  CI/CD  CI/CD  CI/CD  Binary Provenance      
304 / 477


l  l  l  CI/CD "" l  l ""
 l 177 l 178



1.   
2.  """" 
3. 
 
"Docker  GitHub  mysql/mysqlserver " KB  JWT   sub  RFC 6920 URI
177  195 "" 178  Cloud Security Scanner 
305 / 477

{ "sub": "ni:///sha-256;...", "input": {"source_uri": "..."} }

1. JWT  KB  2. sub  SHA-256  3. input.source_uri "https://github.com/mysql/mysql-server"

 Binary Provenance  179 
18016 
l  Binary Provenance 
l  l  l  123 ... 456
 Git commit abc ... def  l 
 Makefile  Jenkins Groovy  l  N  l "Hermetic"

179 "" 180 ""
306 / 477

  Binary Provenance 

 Binary Provenance   
  Binary Provenance  " Hermetic " Google    Binary Provenance Binary Provenance  Git commit abc...def Git commit Binary Provenance       "" Binary Provenance      N   Debian 
307 / 477


 181

     Debian .buildinfo 

l  Google  "CVE"  
l   HTTPS  
l     
                  Bazel    packagelock.json  npm

181 SRE  
308 / 477

 182 
l --""                     Binary Provenance
l - 
l - Bazel  
  buildinfo  buildinfo      Binary Provenance   

""""   CI/CD  14-4 
182  
309 / 477





 
 


 



 







 14-4  CI/CD 

 14-5  "" 



 
 


 


 
Binary Provenance
 

 

 



 14-5  CI/CD 
 
   Jenkinsfile travis.ymlMakefile  BUILD "
310 / 477

RCE" l  l  l  l 
 RCE           TLS  HTTP   ""    14-6  14-5 
311 / 477







Orchestrator

 


 


Binary Provenance

 

 









Worker



 

 14-6 ""CI/CD  

""    Kubernetes  14-7  Kubernetes  Pod   183

183 Kubernetes   pods 
312 / 477

 14-7 Kubernetes -  RPC  Kubernetes  Admission Controller Webhook Google Kubernetes Engine  Kubernetes"" "" 14-8 "" 
 14-8 
313 / 477


 
l  
l  
l  
l  
l "" 
l 
184   Borg  """""" 185

  
184  Kubernetes    185 Borg allocallocation  Linux   Borg  VermaAbhishek  2015 1-1710.1145/2741488.2741964
314 / 477



-     

  URI   URI URI  ""      

Google  Binary Provenance    
315 / 477

  
l  " URI  X Y"" 497,129 "
l   100  SLO 
         Kubernetes  Admission Controller Webhook

     

 ""  CI/CD 
316 / 477

 21 
 - 



 14-2 

 14-2 





  N 





CI  CI 

 

 





 

 CI  

 



 CD  

 












317 / 477

"" """"   
 12  13   
15.
By Pete Nuttall, Matt Linton, and David Seidman with Vera Haas, Julie Saracino, and Amaya Booker
     
   
  
  GDBGNU  "" Google
318 / 477


 ·Maurice Wilkes1985 
Bug  ""    

186 Spanner   
1.
 Google  Colossus  
2.
 Spanner    Colossus Spanner   187 Colossus
186   187 Panner LSM LuoChen 
319 / 477

3.
 Borg  188  slabtop Dentry 
4. Dentry 
 Spanner  -  Dentry 
5.
 Borg  Dentry  
6.
 Linux -   Dentry  Spanner   
  
l  l 
Michael J.Carey2018" LSM "arXiv  141812.07527v3 188  VermaAbhishek 2015  1-1710.1145/2741488.2741964
320 / 477

 l  l  l Spanner 
 l 
  l   l  

189 SRE  12 
l  l      6 

 - 
189 ""· 321 / 477

 
   ·Bryan Cantrill" "
  1190 ""  25,000   400,000  RAM  0.1  400  
  RAM   DIMM   DIMM  ""  Bug
 2000   Google  

l  Web  64  
190 ···2009" DRAM  "ACM SIGMETRICS 37110.1145/2492101.1555372
322 / 477

l C++ int64  int 32  232  ""
l  
l   
l  C ++  10,000  main 
  

   
 DRAM 
l ECCRAM  l 
 l 

 
l  CPU  l CRC
323 / 477

 CPU CRC  l         

-  5  10      
SRE  17 SRE  11  

 
l 
324 / 477

- l 
  SRE  12 " " l   
  


l  shutdown "abort"  
l Chrome Web                      cegzaukxwefark.local DNS Google  DNS  
   SSH 
 
325 / 477

 1  YouTube OOM Google   Borg  OOM  OOM   Google  OOM   Borg  OOM 
""   10 10 
    20 
 Bug
 bug
l  
l    
 bug    bug

­ 
326 / 477


    ""
    glibcGoogle   glibc  pthread_create   glibc    

  
   
 "X Y Z " 
327 / 477

 Borg   Borg   - SRE  12       

   Web   sync    Dapper  Zipkin  " Dapper "191
  Brendan Gregg Prentice Hall2013  
191  "" 328 / 477


 Python  x==y  x= y  __eq ____ne __ 
 Google    192 Python  -

     Google DiRT  193 16   

   
192  suboptimal  193 2012""ACM  109https://oreil.ly/xFPfT
329 / 477

  RAM  SIGKILL 
 18  

  99  
  404 194  Web  
 Bigtable  Bigtable  Bigtable   RAM  mutexes  Google  Bigtable Bigtable  mutexes   mutexes   mutexes  
 Dapper  Zipkin   RPC   RPC  ID  RPC Dapper  ID 
194 404 "" HTTP  330 / 477

 Dapper  Google  binary   Web  binary    RPC  Henderson2017.19510
    
 196 

   Bug   20     GIF
    17 
195 2017""arXiv 1702.01715v2 196  Cindy Sridharan ""
331 / 477


  232   C++ int64  int32  -Wconversion   

l    13 
l  267 "" 
l 

 Bug  Bug 
 Google  20     
  
332 / 477

  

  DNS   exa1  DNS  exa2   Bug 
l  exa2  
l  exa2   exa1    
   8  

""    
333 / 477

 

   197 21 

l  n "" n ""
l   
    
 SRE  28 ""  
l ""
197  Julia Rozovsky "" Charles Duhigg  ""
334 / 477

l "" ""  
  

 "Bug """ 
Bug      
   Bug   
    17 
335 / 477

 Legal 

   
l  l  l  Web 
 shell l 
rick_roll.gif  1GB ZIP  TAR   l                     Windows   explorer.exe
 "" ""  Bug 

 
  
336 / 477

""    

 ""      15-1  
 15-1 
337 / 477


    
       2018   200 Google       5       
338 / 477

198 
 ""     

  ""  

Windows  Windows  Linux  Mac    Linux  

HIDS
198  GhiasvandSiavash  Florina M.Ciorba2017"" arXiv 1706.04337 Jan Lindquist  GDPR
339 / 477



  199   
""    OSQuery  GRR  
 IT       

 SAP  Microsoft SharePoint   Google  
199  Joxean Koret  2014  44 "" 340 / 477

  "" 

 IT  SaaS   Kubernetes   
 Google  BigQuery   Google Cloud  Cloud Audit Logs  Stackdriver Logging  IT    

    Google BeyondCorp   Google   Google 
341 / 477


  Google  
CASBCASB  CASB   CASB    CASB  

 1990 NIDS IPSIPS    IP   IPS     
DNS DNS    DNS   DNS""  
 Web   Web 
342 / 477

  

 100TB     
 Elasticsearch  BigQuery      

   
  90 10   
343 / 477

  netflow  N  netflow  
 l     l   l """" "" ""  l  

  

  
344 / 477

    Google   

 UI   TCP          "" 

 l  
345 / 477

 l 
 l 
 l 
  l        
346 / 477

 4 
  16     17     18    
l  16  
l  17  
l  18  
16.
By Michael Robinson and Sean Noonan with Alex Bramley and Kavita Guliani
  
347 / 477

   Google 
  
  
""
    2 

l  
l  
l  l  l  l  l 
""

348 / 477



       -    16-1 





  



/ 


 


 


 





/

/


 16-1 
   
349 / 477

 
l  l  l  l  l  l 

-  
l  
l  l  

    A  
   
350 / 477

   Internet    

IR 
l  IR  l  IR  l  IR     IR   

      
351 / 477

  
 SREs
 
           SRE   IR     
352 / 477


    
 IR    IR    21 

IR -    

   ""
 IR  IR   IR  /
353 / 477

 IR  

 IR    5 0­4 0  4    5  0   2     0­4 0 4   0   4    0 2     0  1  2
354 / 477

 IR 
   0   0  
l  5 30  
l  l SLO
   SRE  11  14 SRE  8  9  LimoncelliChalup  Hogan2014 14 .200

    IR  
 IR  
200 LimoncelliThomas A.Strata R.Chalup  Christina J.Hogan2014  ·
355 / 477

 IR  
 SLO  
 IR  
 
 
l  
l   IRC 
l     IR 
l  l 

 
 
356 / 477

  IR 
l    IR  
l  IR   
 IR  IR  ""OpSec
     

   201  
201 SRE  22  357 / 477


         

 IR       IR  IR   

 IR 
358 / 477

 
 8  9 
l  GRR  EnCase   15  200  // 
l    IR  
l    

IR /IR   SRE  9  Google 
 IR    IR  IR   Google IMAGIMAG 
359 / 477


/   IR 202 IR 
  15  
   17 
   

 
l  
l  
l    15 
202  SRE  14  SRE  9  360 / 477


 
l  l  l 
    IR       IR  

  
  Google  SRE  26  
361 / 477

     -    SMTP   IRC   

   
 SRE  15 ""    
l  l  l  l 

362 / 477




-   

  

""  60  10­20    

   IR   " "  
363 / 477

      

  IR   
/
/   USB   USB       Envoy HTTP  HTTP    
364 / 477

       

 IR  IR  

       ACL  5 
/
 
365 / 477

 Google    /  

Google ""  DiRT "DiRT  "   Google   Google   ""

   -  
366 / 477


l  
l 203 l  l  l 
 l ""204 l ""
  
Google 




2019     Google  
l Google  l Google  l  Google 
 LAN/MAN/WAN Google 

203  SRE  15  204  SRE  13 

367 / 477

l  
l  l Google  Google  l Google 
 l / SRE 
 l 

DiRT 
 DiRT205SRE 206 ACL DiRT  SRE  

 2018 Google  Linux   IP  TCP SegmentSmackCVE-20185390 FragmentSmackCVE-2018-5391  CPU  -- 1Mpps  50kps   20 

205 ·"" USENIX LISA15 " 10 " 206 ""
368 / 477

 Google    SRE  Linux   ksplice  Google  30  207  ksplice   tcp_collapse_ofo_queue  tcp_prune_ofo_queueSRE  ksplice    SRE  VP 

     
17.
By Matt Linton with Nick Soda and Gary O'Connor                              
207  9  369 / 477


                                                            
                   SRE     14    9                           -- --   IMAG----
":                   "                                        (IR)
                                           208                                                            (GDPR)                  24 () 
                                                   "     "  

208           

370 / 477


                                                             --                                                 EMT                                                                                                                                                                EMT                                                                             

                             :
l () l () l ()                                                             
371 / 477

                                                                                                                   --     
l   1                                                                                                                                                              
l  2  DEMO                                                                                                                          2     1                  2               
l   3                                                                                                      3 
                 (      )                                 1                    3            
372 / 477

                             
                              
l  
l  l                          
 l                 (     )    
( )                               

,  
 bug  8                        209                                                                    
 Google                                                                                   
209  Google                  "           Ghostscript  Ghostscript "
373 / 477

 CVD                                CVE-2017-5715  5753 glibc CVE-2015-0235Stagefright CVE-2015-1538Shellshock CVE-2014-6271 CVE-2014-0160
CVD
 CVD  ISO  291472018      Google     CVD                                           

                                "    "                      

                                                                                           SRE  Google         (   )                       SRE                        
374 / 477

                            
                                                            SRE SRE   SRE  SRE                               
                                                                                       

 Google                          Google IMAG SRE       9                          IMAG 
      :      IMAG             (ICS) RES-cue  ICS   IMAG                           IMAG  : 
375 / 477

 IMAG  :" X  (IC) "     "       "                                                                                                       
           IC                   IC                        IC       
Google  IMAG   (     )                                    SRE                                              

 IMAG                IC               IC  
IC                                                             
IC                             
376 / 477

                             OL:IC  IC  OL                                OL  : 
          

             (OpSec)                     (              )                                           OpSec                
377 / 477

IC                                                                                                                     
 IC                                 
                      OpSec                                                                                                                                                                                                                     
                                                                       (   )                                            
 OpSec :
l                           
l                            
378 / 477

l        "      "                                                                  
l  l  l 
  OpSec 
l                                                                                        Chromebook                                     
l  
l                            
l                                      Windows             

                               
379 / 477

        " example.com"               
                              
                             :
10.20.38.156 - - [03/Aug/2019:11:30:40 -0700] "GET /malware_c2.gif HTTP/1.1" 206 36277 "-" "ChatbotLinkExpanding 1.0"
  malware_c2.gif 
  example.com  example[dot]com  
 OpSec 
:                                        bug            bug              (   Shellshock ) 210                                            .
210 Shellshock                                  
380 / 477

:                              2019  Facetime   Facetime                                                               (               )      IC                                                             

          IR                                     211                                                                                                
211                                       
381 / 477

                                                                            
382 / 477

                           212                                  

                                                               -                                                                                          OL  
l  l  l  l 
212                                       
383 / 477

                                                                                        "      "                           OL 
l  l                       IOC213
 l                            
  17-1 OL  
 17-1.  IC    
213                               384 / 477

:   18 

                               

IC   IC   IC  

 IR                                                                                                                                                                                                         IMAG      
385 / 477

                                   (RL)                  RL                 RL                                IC                                         

IC  while  

while 

1. 

a 

b 

c 

d 

e 

f 

g 

2.

3.                        

4.

5.

6.

7.

8.

386 / 477

9.
OODA :                                                         

                                                           ( 21 )
                                                          "" IC                                                           
          IC                   IC                                                                                         
                                                                                                              -- --                                   
387 / 477

                             ( IC ) 12                                                                           "     "                                                                      "     "                       17-2                              
388 / 477

 17-2.  IC                                                                                      ()
389 / 477

                  Google        " 12             "                    IC  :
1.  IC 2.  IC 3.  IC IC  12 
 4.  5.  IC 12  6.  IC

        IC                                                                                                               IC                           
                             
390 / 477

     
                            Google   
  IC     
                          IC  OL 
391 / 477


                                                                                                                    
 ·( 2018)· (2017)

                                                                                               "                 "                                                                                                                "                                            "                     -- --   
392 / 477


                                                        "  "                                                           IC ""              "                                           "

                                                                        ICOL             
                                                                                                                   
                               IC                                 Google  :
1.IC
393 / 477

2.IC IC : a. b. c.
3.IC: a. b. c.                           d./
4.IC: 5. 6.IC 7.IC:
a. b. c. 8.IC a. b. : 1.IC 2.IC  OL
394 / 477

3.IC/ 4.IC 5.OL 6.IC 7.OL         IC                                                                                                            

                                                   OpSec                                        214                         :
l  l  l  l  l 
214  395 / 477

                                                                                         
   /    IC       CLCL                     CL : l                          
 l                          
 l                          
                            l                          "  " CL  
396 / 477


                              :                                                                                        

: / 

: l  l  IC  l 

-- ---                                                                                                                     
397 / 477

                             
                                                                                        

  IC                           OL                                                                                          
                                                           
                                                                                           OL                 "       "  OL                                
    5                               IC                                                  
398 / 477

                              OL  
 9 OL                                                             

 9  12               IC                                                                         
  IC  IC IC   IC   9:00 PST  

 9     shell  
399 / 477

  API     API  
 IC  
 : 


  CL RL

CL  ("<>< >") 

RL 











400 / 477

    RL   

 API   ----   
  (IC)   

    
401 / 477

 ICS/IMAG 
18.
By Alex Perry, Gary O'Connor, and Heather Adkins with Nick Soda
 IncidentsIncidents   
     
  Google SRE  17  Google SRE  9    2  
 8  9     
402 / 477


   17   
 215  
  

 
·  
·  
·  
215  NIST SP 800-184 NIST   
403 / 477

   SprintScrum  

  
    
 216  
ICOLRL  17 RL  IC  RL  ""
 Google SRE  

216 "" 404 / 477

  air-gapped   
  
   Google  21  

     
   """ "

405 / 477

 ""  


  
   


      



TTPs









406 / 477

 17 IC " "   
  Web       2  2-3 
   

   

""""  
407 / 477


    
  
      Chromebook
   
  
    
408 / 477

  

         """"     

 Web   20    20  
409 / 477


     
    13  
  

     
 "" "" 
410 / 477

     
  



 9   " "  

       



· 



411 / 477

·  
· 217 
·    
·  
·      
· 

""  
 18-1  218 
217 Google  218 ""  
412 / 477

    18-1 

    9  

Isolation  Quarantine    
413 / 477

  DoS  
BeyondCorp
 GoogleBeyondCorp "" BeyondCorp  
BeyondCorp     
  -  / 
     
  MAC  
414 / 477

 

      219
  9 
 Chromebook   Rapid  Google SRE  8   
   Bazel Chef  Helm For Kubernetes   
219  BIOS   ESET LoJax  UEFI Rootkit 
415 / 477



    
 14   glibc ""     
  9     

 ""
  
416 / 477

   
 bug    
 "" 
      

  pass-the-hash220               9            SSH authenticated_keys   SSH 
220 Pass-the-hashNTLM  LanMan  
417 / 477

  SaaS 
 SSL  Web   SSL   
  API   221  
     

 SSO   SSO
221  GitHub   MeliMichaelMatthew R. McNiece  Bradley Reaves 2019 "How Bad Can It Git? Characterizing Secret Leakage in Public GitHub Repositories" 26  NDSShttps://oreil.ly/r65fM
418 / 477


  MFA  MFA  MFA   
  MFA   FIDO  7 
:  LDAP  Windows Active Directory   222 password2019password2020   
   MFA 

 
222  Scrypt  Argon2  SHA-1   
419 / 477

 
 2009 "Operation Aurora"  BeyondCorp  FIDO 223 MFA  

      SRE  15  :
·  
·  
·  
·  
· 
223  Google  LangJuan 2016 "Security Keys: Practical Cryptographic Second Factors for the Modern Web." 20  422-440https://oreil.ly/bL9Fm
420 / 477

 · 
 · 
 · 
 ·  · 
   ""  MFA       

   
421 / 477


 Web  VM  Web   VM  RL   18-2  -
  
422 / 477


 7   MFA  70%    IC  · 
 ·  VPN  IT 
 ·     1803  
423 / 477

 ·  MFA  · SSO  · 
 IT  

  Web  SSL  $0.02  IC
424 / 477

·  
·  ·  ·  SSL  ·  Web  ·    RL     :   MFA       SSL   SSL  Web   
425 / 477

   
 $0.02   
     

     
426 / 477

 5 
   Chrome    Chrome   20   21 
19.Chrome 
with Susanne Landers and Paul Blankinship
 Google  Chrome  Web   Chrome  

2006 Google  Windows  
·  Web  
·  Windows  Google 
427 / 477

Google 
·   Google 
 2008  Google Chrome Chrome  
Chrome  
Team v0.1
Chrome  2008   Google     C++ Web   
Team v1.0
  Chrome  Google   Google  
Team v2.0
Chrome  2010 VRP  VRP  Chrome  WebKit HTML  Chrome  WebKit 
428 / 477

     Chrome  
Team v3.0
 2012 Chrome   Chrome  
2013     Chrome  
 2013  Session   

   Chrome 

 
429 / 477


  Chrome  Microsoft WindowsmacOS LinuxAndroid  iOS OS  

Chrome    Web 
Web 
 Chrome  
   
   
     Chromium  Wiki 
430 / 477


  SRE   
 Chrome   Chrome  2012 2020  Chrome 

Chrome  
 Chrome   Chrome    
   """"
   
 
431 / 477

 ""Chrome   2019  Google 224  
   
  

  Chrome   
 Team v3.0    Chrome    
224 2019 Google  ClusterFuzz OSS-Fuzz  432 / 477

Chrome    UX UX    

 Chrome  TPM Chrome   TPM   
 Pwn2Own  Pwnium   24   TPM   Chrome  

 Chrome   C++  Chrome    Chrome 
Chrome 
433 / 477

 2008    Chrome 
 Web   "" ""  2012  Site Isolation 
    Chrome   Chrome   "" 2018  CPU 
 

 Chrome     Chrome  
 securitydev@chromium.org
434 / 477

  Chrome   Chrome  
 Google Chrome   Android  Google   Chrome  20% Chromium  
 Google  Web   HTTPS  7  

 Chrome  Chrome Chrome   
 Chrome      
20.
By Heather Adkins, Cyrus Vesuna, Hunter King, Felix Gröbert, and
435 / 477

David Challoner with Susanne Landers, Steven Roddis, Sergey Simakov, Shylaja Nukala, Janet Vong, Douglas Colish, Betsy Beyer,
and Paul Blankinship
    
 
l  l     Google  

  SRE   SRE  32  SRE   1819  20 

   
436 / 477

 Sisyphean­
SRE   4  

      

       SLA  
  
437 / 477

 225 
l  l  l 

   SRE  /    SRE 
 ""   HTTPS  Web   AAA 
 SRE SRE  7  
 
225 SRE  18  SRE  438 / 477

 "" Google  SRE    


     

    20-1  Google  

 20-1 Google 





Google 1998



Google 





Google AdWords2000 

Google AdWords  Google 

Ads Google 

           

   
   

439 / 477















2003



Blogger  













Google MailGmail2004 

Gmail  Google  

           

GSuite  





















 
  
          

    

440 / 477

     
    
   

   
l  
l  Web  
l  Sarbanes-OxleyPCI DSS  GDPR 226
226 2002 - 441 / 477

l  l  l 
     
  227
  
  
  Google   100 Google      
 
      227  CodeSpaces 
442 / 477

 20   120  -    
  2017  Yahoo! 4 228 
   

  19  Google 
CISO  C CEOCFOCIO  COO  CSO  

228  
443 / 477

  
 Google 
 Google    Google  SRE  229
 
l  l  l 
Google   " Google "
 Google ""    - 

229  SRE  31 .

444 / 477


230         
           -   
230  BrotherstonLee  Amanda Berlin2017  
445 / 477

 
 231   

   
    
  /
  232  
231  BrotherstonLee  Amanda Berlin2017   232  SRE  15 
446 / 477


 Red Team   
   
   
 

  2  
Vulnerability Reward Programs, VRP "" 233Google  VRP  2006  T   bug  
 VRP 
233  sirdarckcat  447 / 477

  VRP  
 
1.  a. b.234
2.  3. 
  40  4.  /  5. 


 

   "" 
234  sirdarckcat  448 / 477

  
    "" l Google 235Google  Project Zero  l Oulu  l ISO
 

   
21.
By Heather Adkins with Peter Valchev, Felix Gröbert, Ana Oprea,
235 sirdarckcat  449 / 477

Sergey Simakov, Douglas Colish, and Betsy Beyer
  
  
 Google  -   Google 
  - 
CEO       
   
450 / 477


 236  100 237   
      Google  


  


 4   

236  SRE  15  237 SRE  3 

451 / 477

    
   
  
   XSS  SQL     
 12  13  19  Google  

    
l  5 
452 / 477

l   12 
l  14  
  238 5     ""
  
   

 14     
-
238 Google   SadowskiCaitlin et al.2018""https://oreil.ly/IfFJ1
453 / 477

 239
       13  Google   Tricorder 

     
     
Google    Google 

239 2018  454 / 477

  Google         XSS  21-1   Web 
 21-1  
  12  Google 
455 / 477

2405     Google  21-2  "" Google   241
 21-2 
240 Google  241 Google ""  Emerson  Murphy-Hill 2019 ""  41   https://oreil.ly/ZN18B
456 / 477


   Google    13   
""
   ""  "" 
 8  Google App Engine  Google App Engine  Google        

457 / 477

   
  
   
""
  242 Google   100
 16       18  SRE  15   
242 Google·Dave Rensin 
458 / 477



2003  243     7 NASA 
  

   
   17   
 244245   
243  NASA  7  NASA   244  SRE  29  245  SRE  32 
459 / 477


Google 
Google  SRE ""    
Google   ""
   SLO ""  
 
l    
l    
460 / 477


l   



  

       

  CEO SRE    













461 / 477


 
 SLO   2  14     Google  
   

   7  
Canaries 
 Canaries    Canaries  SRE  16  19  Chrome  Chrome  
462 / 477



  ""      Google  

      - 

    

 
463 / 477

        

   Unix  3   
 5      Canary   14 

  
464 / 477

 

 6  12  API      

246   7    247   248   

246   SOUPS  247  ZhangYinqianFabian Monrose  Michael K. Reiter 2010" "  17  ACM 176­186https://oreil.ly/NbfFj NIST 800-63  248  Chrome  Google  GSuite 
465 / 477

 Google     Upvote     - -  

 7  19   

  Google  Production Excellence SLO  SRE  SLO   SRE 249

249  SRE  SRE SLO  99.95%" 99.99%  99.95%"
466 / 477

  ""       Google    

 -
  20     19  Chrome  fixit    
467 / 477

  
Google  SRE Security Exchange  SRE  SRE  SRE    Google  SRE   SRE   Hacker Camp  
   
  Google -  Kudos  Google  

   
 Google     
468 / 477

 

 Web  DDoS  10     
     CEO  
 ""    
  7  Chrome  Internet  HTTPS   
  
469 / 477

   Web  DDoS  

    250

         

   Google 20  
250 " HTTPS " 470 / 477

   SLO 

  DDoS    19   Chrome   -Google  

   

 -   

  7  HTTPS Chrome 
471 / 477

 HTTPS  

   
    

    
l   
l   
l   
l 
472 / 477

   Google    

             Google 
473 / 477


    
--------    IT  
    
  
DevOps  DevSecOps     
 Google  SRE
474 / 477

               
475 / 477

 A 

  A-1  
 16     
  0.5  0.3  0.8  

 A-1. 







 

 

 

 


0.0 0.2  0.4 0.6 0.8 1.0

 0.0 0.2 0.5 0.8 1.0



476 / 478







 

  

/





DDos/DoS 

-





/ 







Meltdown /



477 / 477

