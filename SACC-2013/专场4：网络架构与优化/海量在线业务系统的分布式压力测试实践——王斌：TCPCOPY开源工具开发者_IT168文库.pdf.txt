 
(http://weibo.com/tcpcopy)




·  ·  · Server ·  · 

1



Server

2

?









2Server

Server

---server
· P = f(L,C,K,S,O)
­ P ­ L ­ C ­ KOS ­ S ­ O

---server
· P = f(K,S,O)
­ P ­ KOS ­ S ­ O







3


·  ·  · Spoof



Online machine

 

Application
TCP IP Data Link
online

IP 
 




 + LVS

---1

Test machine

 

Application
TCP IP Data Link

---2

Test machine

 

Application
TCP IP Data Link

---3

Test machine

IP 

Application
TCP IP Data Link

---4

Test machine

 

Application
TCP IP Data Link



Online
Application

Test
Application

TCP IP Data Link
Live Flow

Test2
TCP IP Data Link

TCP IP Data Link

Spoof

3



1

2

3

4

LVS+

Apache

Nginx



Apache VS. Nginx

Thanks!

