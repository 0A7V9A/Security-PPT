PDF-XChange
! Click to buy NOW w.docu-track.c



PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

2011

 

SACC2011 http://weibo.com/steadwater 1

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

·  · 
­  ­  ­ 

2011

SAC2C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

·  · SNS · SNS ·  ·  · 

2011

SAC3C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
·  SNS
·  

PDF-XChange
! Click to buy NOW w.docu-track.c

2011

SAC4C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

· 
­ TimeLine Feed
· 
­ API 
· 
­ 
· 
­ PCAPI 

2011

SAC5C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
· RESTFULOPENAPI   


PDF-XChange
! Click to buy NOW w.docu-track.c

 

2011

 

 





 

 Push

SAC6C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

· IP Nginx7
­ limit_zone one $binary_remote_addr 10m;

·  
­ 
· RedisDB
­ 
·  Æ-> redis,DB
· VIP  -> ->->  shmop  Redis

2011

SAC7C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

· 80% 
· Web Server4000RPS  
· 
· 

2011

SAC8C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c


CDN
7
Web 
Web 
2011

PDF-XChange !
Click to buy NOW w.docu-track.c


Web
Web Server  Redis
  BufferPool
 
SAC9C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

· Web 

2011

SAC10C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

 CDN
Nginx 7

2011

 


Image Web  

DFS 
SAC11C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c



CDN
7 Web


2011

PDF-XChange !
Click to buy NOW w.docu-track.c
· 
 Image 
· Lazy 
SAC12C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c



CDN
7 Web


2011

PDF-XChange !
Click to buy NOW w.docu-track.c
·  CacheControl header CDN
· Nginx7    
· ImageServer  
SAC13C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c



CDN
7 Web


2011

PDF-XChange
! Click to buy NOW w.docu-track.c

·     DFS 

 

 

ImageServer 

DFS  

SAC14C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

2011

Web 







ESI 

APC  Session 

 

Session Session





Redis

  LRU Pool

InnoDB Buffer Pool

SAC15C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

z  JS &

2011

SAC16C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
z JS IEUserData FireFoxChromeSessionStorage
z FlashCache
­ FlashCache  ­ 
z HTML5

PDF-XChange
! Click to buy NOW w.docu-track.c

2011

SAC17C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

· PHP ob_XXX 

· Web

­ 

­ 

­ 
2011

SAC18C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

· ESI 

­ WebNginx ESI Module7 

­ 

­ 

2011

SAC19C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
· APC
­ Shmop ­  ­ 

· Session
­ Session ­  ­ OAuthToken

PDF-XChange
! Click to buy NOW w.docu-track.c

2011

SAC20C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
· APC
­ Shmop ­  ­ 

· Session
­ Session ­  ­ OAuthToken

PDF-XChange
! Click to buy NOW w.docu-track.c

2011

SAC21C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

· Redis 
· Redis

· 
­ WebServer 
­ 
­ ServerHashPersist 

2011

SAC22C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

· Session
­  ­ Session
50 Ajax ­ 


2011

SAC23C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

· Session
­  
­  
­ DiskStore

2011

SAC24C2011

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

om om

ww ww

· 
­ Transaction ­ 
 
· 
­ Apache Common Pool ­ LRU 

2011

SAC25C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
· Feed

PDF-XChange
! Click to buy NOW w.docu-track.c

· TimeLine TopicMysqlFeed MySQL handlerSocket

· MySQL handlerSocket Buffer

Pool

­  innodb_buffer_pool_size 70%

­ innodb_flush_method=O_DIRECT SWAP

­ Secondary Buffer PoolSSD

Percona XtraDB 

2011

SAC26C2011

om om

ww ww

PDF-XChange
! Click to buy NOW w.docu-track.c

PDF-XChange
! Click to buy NOW w.docu-track.c

·  
­ DFSIOPS-> 
­ XhprofPHP FeedRPC  -> Redis 
­ IOPS->Redis 
· 

2011

SAC27C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c
· 
·  
· 

PDF-XChange
! Click to buy NOW w.docu-track.c

2011

SAC28C2011

om om

ww ww

PDF-XChange !
Click to buy NOW w.docu-track.c

2011

PDF-XChange !
Click to buy NOW w.docu-track.c
SAC29C2011

