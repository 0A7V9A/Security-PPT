#RSAC

SESSION ID: OST-M05
Scalable Confidential Computing on Kubernetes with MarbleRun

Moritz Eckert
Chief Architect Edgeless Systems @m1ghtymo

Felix Schuster
CEO Edgeless Systems @flxflx

#RSAC
Disclaimer
Presentations are intended for educational purposes only and do not replace independent professional judgment. Statements of fact and opinions expressed are those of the presenters individually and, unless expressly stated to the contrary, are not the opinion or position of RSA Conference LLC or any other cosponsors. RSA Conference does not endorse or approve, and assumes no responsibility for, the content, accuracy or completeness of the information presented. Attendees should note that sessions may be audio- or video-recorded and may be published in various media, including print, audio and video formats without further notice. The presentation template and any media capture are subject to copyright protection.
©2022 RSA Conference LLC or its affiliates. The RSA Conference logo and other trademarks are proprietary. All rights reserved.
2

#RSAC
What is the biggest roadblock for cloud adoption? Security, Privacy, and compliance concerns! Imagine one could fundamentally solve this...

#RSAC
Confidential computing takes you from here ...
Your workload
Cloud

... to here

· Isolated · Runtime encrypted · Verifiable

Cloud

#RSAC

#RSAC
Everyone's Excited

Everyone's Excited
Confidential computing is the future of computing in general. We will see an expectation that data is always encrypted while it is in use, regardless of how sensitive it may be.

#RSAC

#RSAC
The Cloud's Getting Ready

#RSAC
Confidential Computing

#RSAC
Secure Enclaves

...

App

Operating System

Hypervisor Hardware

Secure Enclaves

#RSAC

...

App

Operating System

Hypervisor Hardware

CPU creates and enforces enclave

#RSAC
Secure Enclaves

...

App

Operating System

Data Code

Hypervisor Hardware

Secure Enclaves
Defining properties  Isolation Runtime memory-encryption Remote attestation
Intel SGX

...

App

Operating System

Hypervisor Hardware

#RSAC
Data Code

Confidential VMs
Defining properties  Isolation Runtime memory-encryption Remote attestation
AMD SEV Intel TDX, Arm Realms

...

App

Operating System

Hypervisor Hardware

#RSAC
Data Code

#RSAC
What can we use this for?
15

Use Cases

1

Make existing workloads more secure & compliant

#RSAC
2 Build new privacy-preserving apps

#RSAC
Privacy-preserving AI Training for Driver Assistance Systems

Intel Vision, May 2022

Microsoft Build, May 2022

17

Privacy-Preserving AI Training for Driver Assistance Systems

Acquisition

De-Identification

#RSAC
Training

18

Privacy-Preserving AI Training for Driver Assistance Systems

Acquisition

De-Identification

#RSAC
Training

19

#RSAC
How to make this end-to-end confidential?
20

#RSAC
Our Open-Source Portfolio
EGo SDK
MarbleRun
EdgelessDB

EGo SDK

#RSAC
The easiest way to develop confidential apps

EGo in a Nutshell

Modified Go compiler SGX-specific tooling Inside-enclave and outside-enclave libraries

$ sudo snap install ego-dev --classic $ ego-go build helloworld.go $ ego sign helloworld $ ego run helloworld Loading enclave... Entering enclave... Hello from enclave!

#RSAC

EGo Concept

#RSAC
VM

EGo Concept

VM SGX Enclave

#RSAC

Are we there yet? No...
Control Plane User
Controllers

kubectl

API Server

Scheduler

Storage

Node Pod Pod Pod

#RSAC
Cloud Services VPC Network Cloud Storage Load Balancer
Cloud Operations

#RSAC

MarbleRun

The control plane for scalable confidential apps

#RSAC
MarbleRun Concept

#RSAC
MarbleRun Concept

MarbleRun Concept
Control Plane User

kubectl

API Server

Controllers Scheduler

Storage

Node Pod Pod Pod

#RSAC
Cloud Services VPC Network Cloud Storage Load Balancer
Cloud Operations

Confidential AI Pipeline

DevOps engineer

 manifest.json

$ linkerd install $ marblerun install $ marblerun set manifest

#RSAC

Confidential AI Pipeline

DevOps engineer

 manifest.json

$ linkerd install $ marblerun install $ marblerun set manifest

#RSAC

Confidential AI Pipeline
DevOps engineer

$ linkerd install $ marblerun install $ marblerun set manifest $ helm install pipeline

Container

 TLS credentials  Secrets
Container

#RSAC

#RSAC
Confidential AI Pipeline

 Attestation statement

Container

Container

#RSAC
Summary
MarbleRun turns your deployment into a confidential deployment Everything always encrypted Everything verifiable Protects against malicious admins, insiders, infrastructure, ... Enables cool new privacy-preserving apps

#RSAC
The confidential Kubernetes distribution

#RSAC
Confidential Kubernetes Nodes
VM

#RSAC
Confidential Kubernetes Nodes
Confidential VM

Managed Kubernetes with CVMs

Control Plane User

Node

Controllers

Pod

kubectl

API Server

Scheduler

Pod

Storage

Pod

#RSAC
Cloud Services VPC Network Cloud Storage Load Balancer
Cloud Operations

Constellation
Control Plane User
Controllers

kubectl

API Server

Scheduler

Storage

Node Pod Pod Pod

#RSAC
Cloud Services VPC Network Cloud Storage Load Balancer
Cloud Operations

#RSAC
Summary
Constellation turns your K8s cluster into a confidential cluster Everything always encrypted and verifiable Run and scale any container-based service Protects against malicious admins, insiders, infrastructure, ... Easy-to-use CLI Use Kubernetes as always kubectl [...]

Summary
Tools for building confidential apps
EdgelessDB MarbleRun EGo SDK

#RSAC
Solution for lift & shift

#RSAC
Apply
Examples, docs, code, and Discord: https://edgeless.systems/ Get in touch:
­ fs@edgeless.systems, me@edgeless.systems ­ @flxflx, @m1ghtym0
43

#RSAC
Let's Make the Cloud Confidential
44

