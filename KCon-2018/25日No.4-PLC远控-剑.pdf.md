2 0 1 8
. KCon
PLC


01
PART 01



CONTENTS
02
PART 02
/

03
PART 03


PART 01



Rockwell Automation

 

 

PART 02
/

 

VPS Kali



 





S7-315-PN/DP

P-NAT

102

STEP7 

http://snap7.sourceforge.net/
$ sudo add-apt-repository ppa:gijzelaar/snap7 $ sudo apt-get update $ sudo apt-get install libsnap71 libsnap7-dev $ pip install python-snap7

PART 03


 PLCPLC

FB64 TCON FB65 TSEND FB66 TRCV FB67 TDISCON

PLC IP PLC CPU BlockNo. 
MC7

PLC MC7 MC7PLC

PLC

TCP

    
REQ INPUT BOOL IQMDL REQUESTID 
ID INPUT WORD MD  W#16#0001 W#16#0FFF DONE OUTPUT BOOL IQMDL DONE01 
BUSY OUTPUT BOOL IQMDL BUSY = 1BUSY = 0 ERROR OUTPUT BOOL IQMDL ERROR?ERROR = 1 STATUS STATUS OUTPUT WORD MD STATUS CONNECTIN_OUT ANY D (UDT 65)TCPISO on TCP UDP

TCP

    
REQ INPUT BOOL IQMDL REQUESTDATALEN 
ID INPUT WORD MD  W#16#0001W#16#0FFF LEN INPUT INT IQMDL CPU(connection_type) 
DONE OUTPUT BOOL IQMDL DONE01 BUSY OUTPUT BOOL IQMDL BUSY = 1?BUSY = 0 ERROR OUTPUT BOOL IQMDL ERRORERROR = 1STATUS 
STATUS OUTPUT WORD MD STATUS DATA IN_OUT ANY IQMD ??? BOOLARRAY

TCP

    
EN_R INPUT BOOL IQMDL EN_R =?FB 64 "TRCV" 
ID INPUT WORD MD  W#16#0001W#16#0FFF LEN INPUT INT IQMDL ()LEN =?LEN <>?(FB64 "TRCV")CPU(connection_type) NDR OUTPUT BOOL IQMDL NDR?NDR = 0?NDR = 1 
ERROR OUTPUT BOOL IQMDL ERROR?ERROR = 1STATUS 
BUSY OUTPUT BOOL IQMDL ?BUSY = 1?BUSY = 0 STATUS OUTPUT WORD MD STATUS RCVD_LEN OUTPUT INT IQMDL () DATA IN_OUT ANY IQMD ()?? ??BOOLARRAY

TCP

     REQ INPUT BOOL IQMDL REQUESTID 
ID INPUT WORD MD  W#16#0001W#16#0FFF DONE OUTPUT BOOL IQMDL DONE01 
BUSY OUTPUT BOOL IQMDL BUSY = 1BUSY = 0 ERROR OUTPUT BOOL IQMDL ERROR?ERROR = 1STATUS 
STATUS OUTPUT WORD MD STATUS

VPSIP VPS

PLCOB35FB1 

VPSKaliTCP server 


1 2PLC 3PLCDPIPLC 4DMZ 5




