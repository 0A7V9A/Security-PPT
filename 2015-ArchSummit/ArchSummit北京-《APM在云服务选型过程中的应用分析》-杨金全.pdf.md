ArchSummit 2015
APM
 ­ 

...

...

...

...

........


1

2


......









......


·  ·  ·  ·  · APM ­  ·  ·  · 






   







BrowserWebViewNativeApp Hybrid...


LocationCarrierNetwork CDN...


Load balanceCodeDBNoSql API ...





·  ·  ·  ·  · +

IT




· 
­  ­ 
· 
­  ­  ­  ­  ­ NoSQL ­ API

· 
­ rpm -- requests per minute ­ cpm-- calls per minute
·  ·  · CPU ·  · 

(Monitor)


·  Bug 
· 
­  ­ 



· Zabbix · Nagios · Ganglia ·...


Cost



Error-log, Slow Log, SQL Slow Log ...

 

public void a(){ long beginTime= System.currentTimeMillis(); ... ... log.debug(System.currentTimeMillis() - beginTime);
}





·  ·  ·  · ......

APM ­ 

APM
Application Performance Management
 
SLA

APM
 
·  ·  · 

 
­  ­  ­ 

APM

CDN
Web  
App  
DB  


   DBA log



 CDN
   

·  1.  2.  3.  4. 
 1.  2. CDN 3.  4. 
·  1.  2.  3. 

APM 

 



     

  --

O

O

--

--

--





O

--

--

O

--

--



Agent

O

--

O

O

O

--



--

--

O

O

--

O

 

Agent

O

--

--

O

O

O

Agent 
Java
Bytecode/Instrumentation/ClassLoader
PHP
Opcode/Zend/Extensions/Xhprof
iOS
Hook/Swizzle
Android
Dalvik/Class Rewriting
.NetPythonNodeJSJavaScript... ...

APM
3. 4.

1. 2.





   

·  · Network+Server&Sys · 8 · 2015.08.22~2015.09.05


Network


Cloud

Server
Sys

20w+

8

Network  2015082200:00~2015082700:00 UV/3240 2014082700:00~2015090500:00 UV/6480

 


·   
·   Apdex =1 ×+ 0.5 ×/  T=500
· 







UnitedStack



AWS



UCloud





 ­ 

 ­ 



SQL ­ 

SQL ­ 

SQL ­ 
rows

 ­ 

EPayEpslpay Memcached
500ms

 ·   ·  SQLOracle, MySQL, SQL Server, DB2... ·  Web Service · NoSQL Memcache, Redis, MongoDB NoSQL

 ­  ­ 
EpayEpslpay /ebs/remoting/hessian/ebsPortalHessian.htm 67.43%MemcachedINCR 500ms

 ­  ­ 
1717:26EPayEpslpay /ebs/remoting/hessian/ebsPortalHessian.htm 2.084500ms 
Server 

 ­  ­ 
  net.spy.memcached.MemcachedClient.incr() 0.524%

 ­ 
 MemcachedINCR PortalHissianServiceImpl.java114excute

 ­  ­ 

 ­  ­ 

 ­ Alarm ­ 

 ­ Alarm ­ 

APM

CTOCIO







·  · 
KPI ·  · 
TCO

·  
·   
·  

· 
·   
·  

·  ·  ·  · 
 

